{"version":3,"file":"HighlightOption.js","sources":["../../../components/auto-complete/HighlightOption.tsx"],"sourcesContent":["import React, { useMemo } from 'react';\nimport { escapeRegExp } from 'lodash-es';\nimport useConfig from '../hooks/useConfig';\n\nexport interface TdHighlightOptionProps {\n  /** 联想词 */\n  content: string;\n  /** 搜索词 */\n  keyword: string;\n}\n\nconst HighlightOption: React.FC<TdHighlightOptionProps> = (props) => {\n  const { classPrefix } = useConfig();\n  const { content, keyword } = props;\n\n  const words = useMemo<{ list: string[]; keyword?: string }>(() => {\n    if (!content) return { list: [] };\n    if (typeof content !== 'string' || !keyword) return { list: [content] };\n    const regExp = new RegExp(escapeRegExp(keyword), 'i');\n    const splitKeyword = content.match(regExp)?.[0];\n    return {\n      list: content.split(splitKeyword),\n      keyword: splitKeyword,\n    };\n  }, [content, keyword]);\n\n  return (\n    <div className={`${classPrefix}-select-option__highlight-item`}>\n      {words.list.map((item, index) => {\n        if (!index) return item;\n        return [\n          <b className={`${classPrefix}-is-highlight`} key={item + words.keyword}>\n            {words.keyword}\n          </b>,\n          item,\n        ];\n      })}\n    </div>\n  );\n};\n\nHighlightOption.displayName = 'HighlightOption';\n\nexport default HighlightOption;\n"],"names":["HighlightOption","props","_useConfig","useConfig","classPrefix","content","keyword","words","useMemo","_content$match","list","regExp","RegExp","escapeRegExp","splitKeyword","match","split","React","createElement","className","map","item","index","key","displayName"],"mappings":";;;;;;;;;;;;;;;;;AAWA,IAAMA,eAAA,GAAoD,SAApDA,eAAAA,CAAqDC,KAAU,EAAA;AAC7D,EAAA,IAAAC,UAAA,GAAkBC,SAAU,EAAA;IAA1BC,WAAY,GAAAF,UAAA,CAAZE,WAAY,CAAA;AACd,EAAA,IAAEC,OAAS,GAAYJ,KAAA,CAArBI,OAAS;IAAAC,OAAA,GAAYL,KAAA,CAAZK,OAAA,CAAA;AAEX,EAAA,IAAAC,KAAA,GAAQC,QAA8C,YAAM;AAAA,IAAA,IAAAC,cAAA,CAAA;IAChE,IAAI,CAACJ,OAAA,EAAgB,OAAA;AAAEK,MAAAA,IAAM,EAAA,EAAA;KAAG,CAAA;IAC5B,IAAA,OAAOL,OAAY,KAAA,QAAA,IAAY,CAACC,OAAA,EAAS,OAAO;MAAEI,IAAA,EAAM,CAACL,OAAO,CAAA;KAAE,CAAA;IACtE,IAAMM,SAAS,IAAIC,MAAA,CAAOC,YAAa,CAAAP,OAAO,GAAG,GAAG,CAAA,CAAA;AACpD,IAAA,IAAMQ,YAAe,GAAAL,CAAAA,cAAA,GAAAJ,OAAA,CAAQU,KAAM,CAAAJ,MAAM,CAAI,cAAAF,cAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAxBA,cAAA,CAAwB,CAAA,CAAA,CAAA;IACtC,OAAA;AACLC,MAAAA,IAAA,EAAML,OAAQ,CAAAW,KAAA,CAAMF,YAAY,CAAA;AAChCR,MAAAA,OAAS,EAAAQ,YAAAA;KACX,CAAA;AACF,GAAG,EAAA,CAACT,OAAS,EAAAC,OAAO,CAAC,CAAA,CAAA;AAErB,EAAA,sBACGW,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;IAAIC,qBAAcf,WAAA,EAAA,gCAAA,CAAA;GAAA,EAChBG,KAAM,CAAAG,IAAA,CAAKU,GAAI,CAAA,UAACC,MAAMC,KAAU,EAAA;AAC/B,IAAA,IAAI,CAACA,KAAA,EAAc,OAAAD,IAAA,CAAA;AACZ,IAAA,OAAA,gBACJJ,KAAA,CAAAC,aAAA,CAAA,GAAA,EAAA;AAAEC,MAAAA,qBAAcf,WAAA,EAAA,eAAA,CAAA;AAA4BmB,MAAAA,GAAA,EAAKF,OAAOd,KAAM,CAAAD,OAAAA;AAAA,KAAA,EAC5DC,MAAMD,OACT,CAAA,EACAe,IAAA,CACF,CAAA;AACF,GAAC,CACH,CAAA,CAAA;AAEJ,EAAA;AAEArB,eAAA,CAAgBwB,WAAc,GAAA,iBAAA;;;;"}