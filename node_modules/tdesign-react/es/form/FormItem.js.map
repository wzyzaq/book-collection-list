{"version":3,"file":"FormItem.js","sources":["../../../components/form/FormItem.tsx"],"sourcesContent":["import React, { forwardRef, ReactNode, useState, useImperativeHandle, useEffect, useRef, useMemo } from 'react';\nimport { isObject, isString, get, merge, isFunction } from 'lodash-es';\nimport {\n  CheckCircleFilledIcon as TdCheckCircleFilledIcon,\n  CloseCircleFilledIcon as TdCloseCircleFilledIcon,\n  ErrorCircleFilledIcon as TdErrorCircleFilledIcon,\n} from 'tdesign-icons-react';\nimport { calcFieldValue } from './utils';\nimport useConfig from '../hooks/useConfig';\nimport useGlobalIcon from '../hooks/useGlobalIcon';\nimport type {\n  TdFormItemProps,\n  ValueType,\n  FormItemValidateMessage,\n  NamePath,\n  FormInstanceFunctions,\n  FormRule,\n} from './type';\nimport { StyledProps } from '../common';\nimport { HOOK_MARK } from './hooks/useForm';\nimport { validate as validateModal, parseMessage } from './formModel';\nimport { useFormContext, useFormListContext } from './FormContext';\nimport useFormItemStyle from './hooks/useFormItemStyle';\nimport useFormItemInitialData, { ctrlKeyMap } from './hooks/useFormItemInitialData';\nimport { formItemDefaultProps } from './defaultProps';\nimport { ValidateStatus } from './const';\nimport useDefaultProps from '../hooks/useDefaultProps';\nimport { useLocaleReceiver } from '../locale/LocalReceiver';\n\nexport interface FormItemProps extends TdFormItemProps, StyledProps {\n  children?: React.ReactNode | React.ReactNode[] | ((form: FormInstanceFunctions) => React.ReactElement);\n}\n\nexport interface FormItemInstance {\n  name?: NamePath;\n  isUpdated?: boolean;\n  value?: any;\n  getValue?: Function;\n  setValue?: Function;\n  setField?: Function;\n  validate?: Function;\n  resetField?: Function;\n  setValidateMessage?: Function;\n  getValidateMessage?: Function;\n  resetValidate?: Function;\n  validateOnly?: Function;\n  isFormList?: boolean;\n}\n\nconst FormItem = forwardRef<FormItemInstance, FormItemProps>((originalProps, ref) => {\n  const [locale, t] = useLocaleReceiver('form');\n  const { classPrefix, form: globalFormConfig } = useConfig();\n  const { CheckCircleFilledIcon, CloseCircleFilledIcon, ErrorCircleFilledIcon } = useGlobalIcon({\n    CheckCircleFilledIcon: TdCheckCircleFilledIcon,\n    CloseCircleFilledIcon: TdCloseCircleFilledIcon,\n    ErrorCircleFilledIcon: TdErrorCircleFilledIcon,\n  });\n  const {\n    form,\n    colon,\n    layout,\n    requiredMark: requiredMarkFromContext,\n    labelAlign: labelAlignFromContext,\n    labelWidth: labelWidthFromContext,\n    showErrorMessage: showErrorMessageFromContext,\n    disabled: disabledFromContext,\n    resetType: resetTypeFromContext,\n    rules: rulesFromContext,\n    statusIcon: statusIconFromContext,\n    errorMessage,\n    formMapRef,\n    onFormItemValueChange,\n  } = useFormContext();\n\n  const { name: formListName, rules: formListRules, formListMapRef } = useFormListContext();\n\n  const props = useDefaultProps<FormItemProps>(originalProps, formItemDefaultProps);\n\n  const {\n    children,\n    style,\n    label,\n    name,\n    status,\n    tips,\n    help,\n    valueFormat,\n    initialData,\n    className,\n    shouldUpdate,\n    successBorder,\n    statusIcon = statusIconFromContext,\n    rules: innerRules = getInnerRules(name, rulesFromContext, formListName, formListRules),\n    labelWidth = labelWidthFromContext,\n    labelAlign = labelAlignFromContext,\n    requiredMark = requiredMarkFromContext,\n  } = props;\n\n  const { getDefaultInitialData } = useFormItemInitialData(name);\n\n  const [, forceUpdate] = useState({}); // custom render state\n  const [freeShowErrorMessage, setFreeShowErrorMessage] = useState(undefined);\n  const [errorList, setErrorList] = useState([]);\n  const [successList, setSuccessList] = useState([]);\n  const [verifyStatus, setVerifyStatus] = useState('validating');\n  const [resetValidating, setResetValidating] = useState(false);\n  const [needResetField, setNeedResetField] = useState(false);\n  const [formValue, setFormValue] = useState(() =>\n    getDefaultInitialData({\n      children,\n      initialData,\n    }),\n  );\n\n  const formItemRef = useRef<FormItemInstance>(null); // 当前 formItem 实例\n  const innerFormItemsRef = useRef([]);\n  const shouldEmitChangeRef = useRef(false); // onChange 冒泡开关\n  const isUpdatedRef = useRef(false); // 校验开关\n  const shouldValidate = useRef(false); // 校验开关\n  const valueRef = useRef(formValue); // 当前最新值\n  const errorListMapRef = useRef(new Map());\n  const snakeName = []\n    .concat(formListName, name)\n    .filter((item) => item !== undefined)\n    .toString(); // 转化 name\n\n  const errorMessages = useMemo(() => errorMessage ?? globalFormConfig.errorMessage, [errorMessage, globalFormConfig]);\n\n  const showErrorMessage = useMemo(() => {\n    if (typeof freeShowErrorMessage === 'boolean') return freeShowErrorMessage;\n    if (typeof props.showErrorMessage === 'boolean') return props.showErrorMessage;\n    return showErrorMessageFromContext;\n  }, [freeShowErrorMessage, props.showErrorMessage, showErrorMessageFromContext]);\n\n  const { formItemClass, formItemLabelClass, contentClass, labelStyle, contentStyle, helpNode, extraNode } =\n    useFormItemStyle({\n      className,\n      help,\n      tips,\n      snakeName,\n      status,\n      successBorder,\n      errorList,\n      successList,\n      layout,\n      verifyStatus,\n      label,\n      labelWidth,\n      labelAlign,\n      requiredMark,\n      showErrorMessage,\n      innerRules,\n    });\n\n  // 更新 form 表单字段\n  const updateFormValue = (newVal: any, validate = true, shouldEmitChange = false) => {\n    const { setPrevStore } = form?.getInternalHooks?.(HOOK_MARK) || {};\n    setPrevStore?.(form?.getFieldsValue?.(true));\n\n    shouldEmitChangeRef.current = shouldEmitChange;\n    isUpdatedRef.current = true;\n    shouldValidate.current = validate;\n    valueRef.current = newVal;\n    setFormValue(newVal);\n  };\n\n  // 初始化 rules，最终以 formItem 上优先级最高\n  function getInnerRules(name, formRules, formListName, formListRules): FormRule[] {\n    if (Array.isArray(name)) {\n      return get(formRules?.[formListName], name) || get(formListRules, name) || [];\n    }\n    return formRules?.[name] || formListRules || [];\n  }\n\n  const renderSuffixIcon = () => {\n    if (statusIcon === false) return null;\n\n    const resultIcon = (iconSlot: ReactNode) => <span className={`${classPrefix}-form__status`}>{iconSlot}</span>;\n\n    const getDefaultIcon = () => {\n      const iconMap = {\n        success: <CheckCircleFilledIcon size=\"25px\" />,\n        error: <CloseCircleFilledIcon size=\"25px\" />,\n        warning: <ErrorCircleFilledIcon size=\"25px\" />,\n      };\n      if (verifyStatus === ValidateStatus.SUCCESS) {\n        return resultIcon(iconMap[verifyStatus]);\n      }\n      if (errorList && errorList[0]) {\n        const type = errorList[0].type || 'error';\n        return resultIcon(iconMap[type]);\n      }\n      return null;\n    };\n\n    if (React.isValidElement(statusIcon)) {\n      // @ts-ignore\n      return resultIcon(React.cloneElement(statusIcon, { style: { color: 'unset' }, ...statusIcon.props }));\n    }\n    if (statusIcon === true) {\n      return getDefaultIcon();\n    }\n\n    return null;\n  };\n\n  async function analysisValidateResult(trigger) {\n    const result = {\n      successList: [],\n      errorList: [],\n      rules: [],\n      resultList: [],\n      allowSetValue: false,\n    };\n    result.rules = trigger === 'all' ? innerRules : innerRules.filter((item) => (item.trigger || 'change') === trigger);\n    if (!result.rules?.length) {\n      setResetValidating(false);\n      return result;\n    }\n    result.allowSetValue = true;\n    result.resultList = await validateModal(formValue, result.rules);\n    result.errorList = result.resultList\n      .filter((item) => item.result !== true)\n      .map((item) => {\n        Object.keys(item).forEach((key) => {\n          if (!item.message && errorMessages[key]) {\n            // eslint-disable-next-line\n            item.message = parseMessage(errorMessages[key], {\n              validate: item[key],\n              name: isString(label) ? label : String(name),\n            });\n          }\n        });\n        return item;\n      });\n    // 仅有自定义校验方法才会存在 successList\n    result.successList = result.resultList.filter(\n      (item) => item.result === true && item.message && item.type === 'success',\n    );\n\n    return result;\n  }\n\n  async function validate(trigger = 'all', showErrorMessage?: boolean) {\n    if (innerFormItemsRef.current.length) {\n      return innerFormItemsRef.current.map((innerFormItem) => innerFormItem?.validate(trigger, showErrorMessage));\n    }\n\n    setResetValidating(true);\n    // undefined | boolean\n    setFreeShowErrorMessage(showErrorMessage);\n    const {\n      successList: innerSuccessList,\n      errorList: innerErrorList,\n      rules: validateRules,\n      resultList,\n      allowSetValue,\n    } = await analysisValidateResult(trigger);\n\n    // 缓存不同 trigger 下的错误信息 all 包含了所有场景需过滤\n    if (innerErrorList.length && trigger !== 'all') {\n      errorListMapRef.current.set(trigger, innerErrorList);\n    } else {\n      errorListMapRef.current.delete(trigger);\n    }\n\n    // all 校验无错误信息时清空所有错误缓存\n    if (!innerErrorList.length && trigger === 'all') {\n      errorListMapRef.current.clear();\n    }\n\n    const cacheErrorList = [...errorListMapRef.current.values()].flat();\n\n    if (allowSetValue) {\n      setSuccessList(innerSuccessList);\n      setErrorList(cacheErrorList.length ? cacheErrorList : innerErrorList);\n    }\n    // 根据校验结果设置校验状态\n    if (validateRules.length) {\n      let status = ValidateStatus.SUCCESS;\n      if (innerErrorList.length || cacheErrorList.length) {\n        status = innerErrorList?.[0]?.type || cacheErrorList?.[0]?.type || ValidateStatus.ERROR;\n      }\n      setVerifyStatus(status);\n    } else {\n      setVerifyStatus(ValidateStatus.VALIDATING);\n    }\n    // 重置处理\n    if (needResetField) {\n      resetHandler();\n    }\n    setResetValidating(false);\n\n    return {\n      [snakeName]: innerErrorList.length === 0 ? true : resultList,\n    };\n  }\n\n  async function validateOnly(trigger = 'all') {\n    const { errorList: innerErrorList, resultList } = await analysisValidateResult(trigger);\n\n    return {\n      [snakeName]: innerErrorList.length === 0 ? true : resultList,\n    };\n  }\n\n  // blur 下触发校验\n  function handleItemBlur() {\n    const filterRules = innerRules.filter((item) => item.trigger === 'blur');\n\n    filterRules.length && validate('blur');\n  }\n\n  function getResetValue(resetType: string): ValueType {\n    if (resetType === 'initial') {\n      return getDefaultInitialData({\n        children,\n        initialData,\n      });\n    }\n\n    let emptyValue: ValueType;\n    if (Array.isArray(formValue)) {\n      emptyValue = [];\n    } else if (isObject(formValue)) {\n      emptyValue = {};\n    } else if (isString(formValue)) {\n      emptyValue = '';\n    }\n\n    return emptyValue;\n  }\n\n  function resetField(type: string) {\n    if (typeof name === 'undefined') return;\n\n    const resetType = type || resetTypeFromContext;\n    const resetValue = getResetValue(resetType);\n    // reset 不校验\n    updateFormValue(resetValue, false);\n\n    if (resetValidating) {\n      setNeedResetField(true);\n    } else {\n      resetHandler();\n    }\n  }\n\n  function resetHandler() {\n    setNeedResetField(false);\n    setErrorList([]);\n    setSuccessList([]);\n    setVerifyStatus(ValidateStatus.VALIDATING);\n  }\n\n  function setField(field: { value?: string; status?: ValidateStatus; validateMessage?: FormItemValidateMessage }) {\n    const { value, status, validateMessage } = field;\n    if (typeof status !== 'undefined') {\n      setErrorList(validateMessage ? [validateMessage] : []);\n      setSuccessList(validateMessage ? [validateMessage] : []);\n      setNeedResetField(false);\n      setVerifyStatus(status);\n    }\n    if (typeof value !== 'undefined') {\n      // 手动设置 status 则不需要校验 交给用户判断\n      updateFormValue(value, typeof status === 'undefined' ? true : false, true);\n    }\n  }\n\n  function setValidateMessage(validateMessage: FormItemValidateMessage[]) {\n    if (!validateMessage || !Array.isArray(validateMessage)) return;\n    if (validateMessage.length === 0) {\n      setErrorList([]);\n      setVerifyStatus(ValidateStatus.SUCCESS);\n      return;\n    }\n    setErrorList(validateMessage);\n    const status = validateMessage?.[0]?.type || ValidateStatus.ERROR;\n    setVerifyStatus(status);\n  }\n\n  function getValidateMessage() {\n    return errorList;\n  }\n\n  useEffect(() => {\n    // 注册自定义更新回调\n    if (!shouldUpdate || !form) return;\n\n    const { getPrevStore, registerWatch } = form?.getInternalHooks?.(HOOK_MARK) || {};\n    const cancelRegister = registerWatch?.(() => {\n      const currStore = form?.getFieldsValue?.(true) || {};\n      let updateFlag = shouldUpdate as boolean;\n      if (isFunction(shouldUpdate)) updateFlag = shouldUpdate(getPrevStore?.(), currStore);\n\n      if (updateFlag) forceUpdate({});\n    });\n\n    return cancelRegister;\n  }, [shouldUpdate, form]);\n\n  useEffect(() => {\n    // 记录填写 name 属性 formItem\n    if (typeof name === 'undefined') return;\n\n    // formList 下特殊处理\n    if (formListName) {\n      formListMapRef.current.set(name, formItemRef);\n      return () => {\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        formListMapRef.current.delete(name);\n      };\n    }\n\n    if (!formMapRef) return;\n    formMapRef.current.set(name, formItemRef);\n    return () => {\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      formMapRef.current.delete(name);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [snakeName, formListName]);\n\n  useEffect(() => {\n    // value 变化通知 watch 事件\n    form?.getInternalHooks?.(HOOK_MARK)?.notifyWatch?.(name);\n\n    // 控制是否需要校验\n    if (!shouldValidate.current) return;\n\n    // value change event\n    if (typeof name !== 'undefined' && shouldEmitChangeRef.current) {\n      if (formListName) {\n        // 整理 formItem 的值\n        const formListValue = merge([], calcFieldValue(name, formValue));\n        // 整理 formList 的值\n        const fieldValue = calcFieldValue(formListName, formListValue);\n        onFormItemValueChange?.({ ...fieldValue });\n      } else {\n        const fieldValue = calcFieldValue(name, formValue);\n        onFormItemValueChange?.({ ...fieldValue });\n      }\n    }\n\n    const filterRules = innerRules.filter((item) => (item.trigger || 'change') === 'change');\n\n    filterRules.length && validate('change');\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [formValue, snakeName]);\n\n  // 暴露 ref 实例方法\n  const instance: FormItemInstance = {\n    name,\n    value: formValue,\n    isUpdated: isUpdatedRef.current,\n    getValue: () => valueRef.current,\n    setValue: (newVal: any) => updateFormValue(newVal, true, true),\n    setField,\n    validate,\n    validateOnly,\n    resetField,\n    setValidateMessage,\n    getValidateMessage,\n    resetValidate: resetHandler,\n  };\n  useImperativeHandle(ref, (): FormItemInstance => instance);\n  useImperativeHandle(formItemRef, (): FormItemInstance => instance);\n\n  // 传入 form 实例支持自定义渲染\n  if (isFunction(children)) return children(form);\n\n  return (\n    <div className={formItemClass} style={style}>\n      {label && (\n        <div className={formItemLabelClass} style={labelStyle}>\n          <label htmlFor={props?.for}>{label}</label>\n          {colon && t(locale.colonText)}\n        </div>\n      )}\n      <div className={contentClass()} style={contentStyle}>\n        <div className={`${classPrefix}-form__controls-content`}>\n          {React.Children.map(children, (child, index) => {\n            if (!child) return null;\n\n            let ctrlKey = 'value';\n            if (React.isValidElement(child)) {\n              if (child.type === FormItem) {\n                return React.cloneElement(child, {\n                  // @ts-ignore\n                  ref: (el) => {\n                    if (!el) return;\n                    innerFormItemsRef.current[index] = el;\n                  },\n                });\n              }\n              if (typeof child.type === 'object') {\n                ctrlKey = ctrlKeyMap.get(child.type) || 'value';\n              }\n              const childProps = child.props as any;\n              return React.cloneElement(child, {\n                disabled: disabledFromContext,\n                ...childProps,\n                [ctrlKey]: formValue,\n                onChange: (value: any, ...args: any[]) => {\n                  const newValue = valueFormat ? valueFormat(value) : value;\n                  updateFormValue(newValue, true, true);\n                  childProps?.onChange?.call?.(null, value, ...args);\n                },\n                onBlur: (value: any, ...args: any[]) => {\n                  handleItemBlur();\n                  childProps?.onBlur?.call?.(null, value, ...args);\n                },\n              });\n            }\n            return child;\n          })}\n          {renderSuffixIcon()}\n        </div>\n        {helpNode}\n        {extraNode}\n      </div>\n    </div>\n  );\n});\n\nFormItem.displayName = 'FormItem';\n\nexport default FormItem;\n"],"names":["FormItem","forwardRef","originalProps","ref","_useLocaleReceiver","useLocaleReceiver","_useLocaleReceiver2","_slicedToArray","locale","t","_useConfig","useConfig","classPrefix","globalFormConfig","form","_useGlobalIcon","useGlobalIcon","CheckCircleFilledIcon","TdCheckCircleFilledIcon","CloseCircleFilledIcon","TdCloseCircleFilledIcon","ErrorCircleFilledIcon","TdErrorCircleFilledIcon","_useFormContext","useFormContext","colon","layout","requiredMarkFromContext","requiredMark","labelAlignFromContext","labelAlign","labelWidthFromContext","labelWidth","showErrorMessageFromContext","showErrorMessage","disabledFromContext","disabled","resetTypeFromContext","resetType","rulesFromContext","rules","statusIconFromContext","statusIcon","errorMessage","formMapRef","onFormItemValueChange","_useFormListContext","useFormListContext","formListName","name","formListRules","formListMapRef","props","useDefaultProps","formItemDefaultProps","children","style","label","status","tips","help","valueFormat","initialData","className","shouldUpdate","successBorder","_props$statusIcon","_props$rules","innerRules","getInnerRules","_props$labelWidth","_props$labelAlign","_props$requiredMark","_useFormItemInitialDa","useFormItemInitialData","getDefaultInitialData","_useState","useState","_useState2","forceUpdate","_useState3","_useState4","freeShowErrorMessage","setFreeShowErrorMessage","_useState5","_useState6","errorList","setErrorList","_useState7","_useState8","successList","setSuccessList","_useState9","_useState10","verifyStatus","setVerifyStatus","_useState11","_useState12","resetValidating","setResetValidating","_useState13","_useState14","needResetField","setNeedResetField","_useState15","_useState16","formValue","setFormValue","formItemRef","useRef","innerFormItemsRef","shouldEmitChangeRef","isUpdatedRef","shouldValidate","valueRef","errorListMapRef","Map","snakeName","concat","filter","item","toString","errorMessages","useMemo","_useFormItemStyle","useFormItemStyle","formItemClass","formItemLabelClass","contentClass","labelStyle","contentStyle","helpNode","extraNode","updateFormValue","newVal","_form$getInternalHook","_form$getFieldsValue","validate","arguments","length","undefined","shouldEmitChange","_ref","getInternalHooks","call","HOOK_MARK","setPrevStore","getFieldsValue","current","formRules","Array","isArray","get","renderSuffixIcon","resultIcon","iconSlot","React","createElement","getDefaultIcon","iconMap","success","size","error","warning","ValidateStatus","SUCCESS","type","isValidElement","cloneElement","_objectSpread","color","analysisValidateResult","_callee","trigger","_result$rules","result","_regeneratorRuntime","wrap","_callee$","_context","prev","next","resultList","allowSetValue","abrupt","validateModal","sent","map","Object","keys","forEach","key","message","parseMessage","isString","String","stop","_analysisValidateResult","apply","_validate","_asyncToGenerator","mark","_callee2","showErrorMessage2","_yield$analysisValida","innerSuccessList","innerErrorList","validateRules","cacheErrorList","status2","_innerErrorList$","_cacheErrorList$","_args2","_callee2$","_context2","innerFormItem","set","clear","_toConsumableArray","values","flat","ERROR","VALIDATING","resetHandler","_defineProperty","validateOnly","_validateOnly","_callee3","_yield$analysisValida2","_args3","_callee3$","_context3","handleItemBlur","filterRules","getResetValue","emptyValue","isObject","resetField","resetValue","setField","field","value","validateMessage","setValidateMessage","_validateMessage$","getValidateMessage","useEffect","_form$getInternalHook2","_ref2","getPrevStore","registerWatch","cancelRegister","_form$getFieldsValue2","currStore","updateFlag","isFunction","_form$getInternalHook3","_form$getInternalHook4","notifyWatch","formListValue","merge","calcFieldValue","fieldValue","instance","isUpdated","getValue","setValue","resetValidate","useImperativeHandle","htmlFor","colonText","Children","child","index","ctrlKey","el","_typeof","ctrlKeyMap","childProps","onChange","_childProps$onChange","_childProps$onChange$","newValue","_len","args","_key","onBlur","_childProps$onBlur","_childProps$onBlur$ca","_len2","_key2","displayName"],"mappings":"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"}