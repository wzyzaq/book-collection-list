{"version":3,"file":"Select.js","sources":["../../../../components/select/base/Select.tsx"],"sourcesContent":["import React, {\n  useEffect,\n  useMemo,\n  KeyboardEvent,\n  WheelEvent,\n  useRef,\n  useCallback,\n  Children,\n  cloneElement,\n  isValidElement,\n  useState,\n} from 'react';\nimport classNames from 'classnames';\nimport { isFunction, get, debounce } from 'lodash-es';\nimport { getOffsetTopToContainer } from '../../_util/helper';\nimport useControlled from '../../hooks/useControlled';\nimport { useLocaleReceiver } from '../../locale/LocalReceiver';\nimport useConfig from '../../hooks/useConfig';\nimport forwardRefWithStatics from '../../_util/forwardRefWithStatics';\nimport { getSelectValueArr, getSelectedOptions } from '../util/helper';\nimport noop from '../../_util/noop';\nimport FakeArrow from '../../common/FakeArrow';\nimport Loading from '../../loading';\nimport SelectInput, { SelectInputValue, SelectInputValueChangeContext } from '../../select-input';\nimport Option from './Option';\nimport OptionGroup from './OptionGroup';\nimport PopupContent from './PopupContent';\nimport Tag from '../../tag';\nimport { TdSelectProps, TdOptionProps, SelectOption, SelectValueChangeTrigger, SelectValue } from '../type';\nimport { StyledProps } from '../../common';\nimport { selectDefaultProps } from '../defaultProps';\nimport { PopupVisibleChangeContext } from '../../popup';\nimport useOptions from '../hooks/useOptions';\nimport composeRefs from '../../_util/composeRefs';\nimport { parseContentTNode } from '../../_util/parseTNode';\nimport useDefaultProps from '../../hooks/useDefaultProps';\n\nexport interface SelectProps<T = SelectOption> extends TdSelectProps<T>, StyledProps {\n  // 子节点\n  children?: React.ReactNode;\n  onMouseEnter?: (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => void;\n  onMouseLeave?: (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => void;\n}\n\ntype OptionsType = TdOptionProps[];\n\nconst Select = forwardRefWithStatics(\n  (originalProps: SelectProps, ref: React.Ref<HTMLDivElement>) => {\n    const props = useDefaultProps<SelectProps>(originalProps, selectDefaultProps);\n    // 国际化文本初始化\n    const [local, t] = useLocaleReceiver('select');\n    const emptyText = t(local.loadingText);\n\n    const {\n      readonly,\n      borderless,\n      autoWidth,\n      creatable,\n      loadingText = emptyText,\n      max,\n      popupProps,\n      reserveKeyword,\n      className,\n      style,\n      disabled,\n      size,\n      multiple,\n      placeholder,\n      clearable,\n      prefixIcon,\n      options,\n      filterable,\n      loading,\n      empty,\n      valueType,\n      keys,\n      children,\n      collapsedItems,\n      minCollapsedNum,\n      valueDisplay,\n      showArrow,\n      inputProps,\n      panelBottomContent,\n      panelTopContent,\n      selectInputProps,\n      tagInputProps,\n      tagProps,\n      scroll,\n      suffixIcon,\n      label,\n      filter,\n      onFocus,\n      onBlur,\n      onClear = noop,\n      onCreate,\n      onRemove,\n      onSearch,\n      onEnter,\n      onPopupVisibleChange,\n    } = props;\n\n    const [value, onChange] = useControlled(props, 'value', props.onChange);\n    const selectInputRef = useRef(null);\n    const { classPrefix } = useConfig();\n    const { overlayClassName, onScroll, onScrollToBottom, ...restPopupProps } = popupProps || {};\n    const [isScrolling, toggleIsScrolling] = useState(false);\n\n    const name = `${classPrefix}-select`; // t-select\n\n    const [showPopup, setShowPopup] = useControlled(props, 'popupVisible', onPopupVisibleChange);\n    const [inputValue, onInputChange] = useControlled(props, 'inputValue', props.onInputChange);\n\n    const { currentOptions, setCurrentOptions, tmpPropOptions, valueToOption, selectedOptions } = useOptions(\n      keys,\n      options,\n      children,\n      valueType,\n      value,\n      reserveKeyword,\n    );\n\n    const selectedLabel = useMemo(() => {\n      if (multiple) {\n        return selectedOptions.map((selectedOption) => get(selectedOption || {}, keys?.label || 'label') || '');\n      }\n      return get(selectedOptions[0] || {}, keys?.label || 'label') || undefined;\n    }, [selectedOptions, keys, multiple]);\n\n    const handleShowPopup = (visible: boolean, ctx: PopupVisibleChangeContext) => {\n      if (disabled) return;\n      visible && toggleIsScrolling(false);\n      !visible && onInputChange('', { trigger: 'blur' });\n      setShowPopup(visible, ctx);\n    };\n\n    // 可以根据触发来源，自由定制标签变化时的筛选器行为\n    const onTagChange = (_currentTags: SelectInputValue, context) => {\n      const { trigger, index, item, e } = context;\n      // backspace\n      if (trigger === 'backspace') {\n        e.stopPropagation();\n\n        let closest = -1;\n        let len = index;\n        while (len >= 0) {\n          if (!selectedOptions[len]?.disabled) {\n            closest = len;\n            break;\n          }\n          len -= 1;\n        }\n        if (closest < 0) {\n          return;\n        }\n        const values = getSelectValueArr(value, value[closest], true, valueType, keys);\n\n        // 处理onChange回调中的selectedOptions参数\n        const { currentSelectedOptions } = getSelectedOptions(values, multiple, valueType, keys, valueToOption);\n        onChange(values, { e, trigger, selectedOptions: currentSelectedOptions });\n        return;\n      }\n\n      if (trigger === 'tag-remove') {\n        e?.stopPropagation?.();\n        const values = getSelectValueArr(value, value[index], true, valueType, keys);\n        // 处理onChange回调中的selectedOptions参数\n        const { currentSelectedOptions } = getSelectedOptions(values, multiple, valueType, keys, valueToOption);\n\n        onChange(values, { e, trigger, selectedOptions: currentSelectedOptions });\n        if (isFunction(onRemove)) {\n          onRemove({\n            value: value[index],\n            data: {\n              label: item,\n              value: value[index],\n            },\n            e,\n          });\n        }\n      }\n    };\n\n    const onCheckAllChange = (checkAll: boolean, e: React.MouseEvent<HTMLLIElement>) => {\n      if (!multiple) {\n        return;\n      }\n\n      const values = [];\n      currentOptions.forEach((option) => {\n        if (option.group) {\n          option.children.forEach((item) => {\n            if (!item.disabled && !item.checkAll) {\n              values.push(valueType === 'object' ? item : item[keys?.value || 'value']);\n            }\n          });\n        } else if (!option.disabled && !option.checkAll) {\n          values.push(valueType === 'object' ? option : option[keys?.value || 'value']);\n        }\n      });\n\n      const { currentSelectedOptions, allSelectedValue } = getSelectedOptions(\n        values,\n        multiple,\n        valueType,\n        keys,\n        valueToOption,\n      );\n\n      const checkAllValue =\n        !checkAll && allSelectedValue.length !== (props.value as Array<SelectOption>)?.length ? allSelectedValue : [];\n\n      onChange?.(checkAllValue, {\n        e,\n        trigger: !checkAll ? 'check' : 'uncheck',\n        selectedOptions: currentSelectedOptions,\n      });\n    };\n\n    // 选中 Popup 某项\n    const handleChange = (\n      value: string | number | Array<string | number | Record<string, string | number>>,\n      context: {\n        e: React.MouseEvent<HTMLLIElement>;\n        trigger: SelectValueChangeTrigger;\n        value?: SelectValue;\n        label?: string;\n      },\n    ) => {\n      if (multiple) {\n        !reserveKeyword && inputValue && onInputChange('', { e: context.e, trigger: 'change' });\n      }\n      if (creatable && isFunction(onCreate)) {\n        if ((options as OptionsType).filter((option) => option.value === value).length === 0) {\n          onCreate(value as string); // 手动输入 此时为string\n        }\n      }\n      // 处理onChange回调中的selectedOptions参数\n      const selectedValue = multiple ? context.value : value;\n      const { currentSelectedOptions, currentOption } = getSelectedOptions(\n        value,\n        multiple,\n        valueType,\n        keys,\n        valueToOption,\n        selectedValue,\n      );\n\n      onChange?.(value, {\n        e: context.e,\n        trigger: context.trigger,\n        selectedOptions: currentSelectedOptions,\n        option: currentOption,\n      });\n\n      if (multiple && context?.trigger === 'uncheck' && isFunction(onRemove)) {\n        const value = context?.value;\n        const option = (options as OptionsType).find((option) => option.value === value);\n        onRemove({\n          value,\n          data: option,\n          e: context.e,\n        });\n      }\n    };\n\n    // 处理filter逻辑\n    const handleFilter = (value: string) => {\n      let filteredOptions: OptionsType = [];\n      if (filterable && isFunction(onSearch)) {\n        return;\n      }\n      if (!value) {\n        setCurrentOptions(tmpPropOptions);\n        return;\n      }\n\n      const filterLabels = [];\n      const filterMethods = (option: SelectOption) => {\n        if (filter && isFunction(filter)) {\n          return filter(value, option);\n        }\n        const upperValue = value.toUpperCase();\n        return (option?.label || '').toUpperCase().includes(upperValue);\n      };\n\n      tmpPropOptions.forEach((option) => {\n        if (option.group) {\n          filteredOptions.push({\n            ...option,\n            children: option.children?.filter((child) => {\n              if (filterMethods(child)) {\n                filterLabels.push(child.label);\n                return true;\n              }\n              return false;\n            }),\n          });\n        } else if (filterMethods(option)) {\n          filterLabels.push(option.label);\n          filteredOptions.push(option);\n        }\n      });\n      const isSameLabelOptionExist = filterLabels.includes(value);\n      if (creatable && !isSameLabelOptionExist) {\n        filteredOptions = filteredOptions.concat([{ label: value, value }]);\n      }\n      setCurrentOptions(filteredOptions);\n    };\n\n    // 处理输入框逻辑\n    const handleInputChange = (value: string, context: SelectInputValueChangeContext) => {\n      if (context.trigger !== 'clear') {\n        onInputChange(value, { e: context.e, trigger: 'input' });\n      }\n      if (value === undefined) {\n        return;\n      }\n      if (isFunction(onSearch)) {\n        onSearch(value, { e: context.e as KeyboardEvent<HTMLDivElement> });\n        return;\n      }\n    };\n\n    const handleClear = (context) => {\n      context.e.stopPropagation();\n      if (Array.isArray(value)) {\n        onChange([], { ...context, trigger: 'clear', selectedOptions: [] });\n      } else {\n        onChange(null, { ...context, trigger: 'clear', selectedOptions: [] });\n      }\n      onClear(context);\n    };\n\n    useEffect(() => {\n      if (typeof inputValue !== 'undefined') {\n        handleFilter(String(inputValue));\n      }\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [inputValue, tmpPropOptions]);\n\n    // 渲染后置图标\n    const renderSuffixIcon = () => {\n      if (suffixIcon) {\n        return suffixIcon;\n      }\n      if (loading) {\n        return (\n          <Loading className={classNames(`${name}__right-icon`, `${name}__active-icon`)} loading={true} size=\"small\" />\n        );\n      }\n\n      return showArrow && <FakeArrow className={`${name}__right-icon`} isActive={showPopup} disabled={disabled} />;\n    };\n    const getPopupInstance = useCallback(() => (selectInputRef as any).current?.getPopupContentElement(), []);\n\n    const childrenWithProps = Children.map(children, (child) => {\n      if (isValidElement(child)) {\n        const addedProps = { multiple };\n        return cloneElement(child, { ...addedProps });\n      }\n      return child;\n    });\n    // 渲染主体内容\n    const renderContent = () => {\n      const popupContentProps = {\n        onChange: handleChange,\n        value,\n        className,\n        size,\n        multiple,\n        showPopup,\n        // popup弹出层内容只会在点击事件之后触发 并且无任何透传参数\n        setShowPopup: (show: boolean) => handleShowPopup(show, {}),\n        options: currentOptions,\n        empty,\n        max,\n        loadingText,\n        loading,\n        valueType,\n        keys,\n        panelBottomContent,\n        panelTopContent,\n        onCheckAllChange,\n        getPopupInstance,\n        scroll,\n      };\n      return <PopupContent {...popupContentProps}>{childrenWithProps}</PopupContent>;\n    };\n\n    const renderValueDisplay = () => {\n      if (!valueDisplay) {\n        if (!multiple) {\n          if (typeof selectedLabel !== 'string') {\n            return selectedLabel;\n          }\n          return '';\n        }\n        return ({ value: val }) =>\n          val.slice(0, minCollapsedNum ? minCollapsedNum : val.length).map((v: string, key: number) => {\n            const filterOption: SelectOption & { disabled?: boolean } = options?.find((option) => option.label === v);\n            return (\n              <Tag\n                key={key}\n                closable={!filterOption?.disabled && !disabled && !readonly}\n                size={size}\n                {...tagProps}\n                onClose={({ e }) => {\n                  e.stopPropagation();\n                  e?.nativeEvent?.stopImmediatePropagation?.();\n                  const values = getSelectValueArr(value, value[key], true, valueType, keys);\n\n                  const { currentSelectedOptions } = getSelectedOptions(\n                    values,\n                    multiple,\n                    valueType,\n                    keys,\n                    valueToOption,\n                    value,\n                  );\n                  onChange(values, {\n                    e,\n                    selectedOptions: currentSelectedOptions,\n                    trigger: 'tag-remove',\n                  });\n                  tagProps?.onClose?.({ e });\n\n                  onRemove?.({\n                    value: value[key],\n                    data: { label: v, value: value[key] },\n                    e: e as unknown as React.MouseEvent<HTMLDivElement, MouseEvent>,\n                  });\n                }}\n              >\n                {v}\n              </Tag>\n            );\n          });\n      }\n      if (typeof valueDisplay === 'string') {\n        return valueDisplay;\n      }\n      if (multiple) {\n        return ({ onClose }) => parseContentTNode(valueDisplay, { value: selectedOptions, onClose });\n      }\n      return parseContentTNode(valueDisplay, { value: selectedLabel, onClose: noop });\n    };\n\n    // 将第一个选中的 option 置于列表可见范围的最后一位\n    const updateScrollTop = (content: HTMLDivElement) => {\n      if (!content || isScrolling) {\n        return;\n      }\n      const firstSelectedNode: HTMLDivElement = content.querySelector(`.${classPrefix}-is-selected`);\n      if (!multiple && firstSelectedNode) {\n        const { paddingBottom } = getComputedStyle(firstSelectedNode);\n        const { marginBottom } = getComputedStyle(content);\n        const elementBottomHeight = parseInt(paddingBottom, 10) + parseInt(marginBottom, 10);\n        // 小于0时不需要特殊处理，会被设为0\n        const updateValue =\n          getOffsetTopToContainer(firstSelectedNode, content) -\n          content.offsetTop -\n          (content.clientHeight - firstSelectedNode.clientHeight) +\n          elementBottomHeight;\n\n        // 通过 setTimeout 确保组件渲染完成后再设置 scrollTop\n        setTimeout(() => {\n          // eslint-disable-next-line no-param-reassign\n          content.scrollTop = updateValue;\n        });\n      }\n    };\n\n    const { onMouseEnter, onMouseLeave } = props;\n\n    const handleEnter = (_, context: { inputValue: string; e: KeyboardEvent<HTMLDivElement> }) => {\n      onEnter?.({ ...context, value });\n    };\n\n    const handleScroll = ({ e }: { e: WheelEvent<HTMLDivElement> }) => {\n      toggleIsScrolling(true);\n\n      onScroll?.({ e });\n      if (onScrollToBottom) {\n        const debounceOnScrollBottom = debounce((e) => onScrollToBottom({ e }), 100);\n\n        const { scrollTop, clientHeight, scrollHeight } = e.target as HTMLDivElement;\n        if (clientHeight + Math.floor(scrollTop) === scrollHeight) {\n          debounceOnScrollBottom(e);\n        }\n      }\n    };\n    return (\n      <div\n        className={classNames(`${name}__wrap`, className)}\n        style={style}\n        onMouseEnter={onMouseEnter}\n        onMouseLeave={onMouseLeave}\n      >\n        <SelectInput\n          autoWidth={!style?.width && autoWidth}\n          ref={composeRefs(ref, selectInputRef)}\n          className={name}\n          readonly={readonly}\n          autofocus={props.autofocus}\n          allowInput={(filterable ?? local.filterable) || isFunction(filter)}\n          multiple={multiple}\n          value={selectedLabel}\n          options={selectedOptions}\n          valueDisplay={renderValueDisplay()}\n          clearable={clearable}\n          disabled={disabled}\n          status={props.status}\n          tips={props.tips}\n          borderless={borderless}\n          label={label}\n          suffix={props.suffix}\n          prefixIcon={prefixIcon}\n          suffixIcon={renderSuffixIcon()}\n          panel={renderContent()}\n          placeholder={!multiple && showPopup && selectedLabel ? selectedLabel : placeholder || t(local.placeholder)}\n          inputValue={inputValue}\n          tagInputProps={{\n            size,\n            ...tagInputProps,\n          }}\n          tagProps={{ size, ...tagProps }}\n          inputProps={{\n            size,\n            ...inputProps,\n          }}\n          minCollapsedNum={minCollapsedNum}\n          collapsedItems={collapsedItems}\n          updateScrollTop={updateScrollTop}\n          popupProps={{\n            overlayClassName: [`${name}__dropdown`, overlayClassName],\n            onScroll: handleScroll,\n            ...restPopupProps,\n          }}\n          popupVisible={showPopup}\n          onPopupVisibleChange={handleShowPopup}\n          onTagChange={onTagChange}\n          onInputChange={handleInputChange}\n          onFocus={onFocus}\n          onEnter={handleEnter}\n          onBlur={(_, context) => {\n            onBlur?.({ value, e: context.e as React.FocusEvent<HTMLDivElement> });\n          }}\n          onClear={handleClear}\n          {...selectInputProps}\n        />\n      </div>\n    );\n  },\n  { Option, OptionGroup },\n);\n\nSelect.displayName = 'Select';\n\nexport default Select;\n"],"names":["Select","forwardRefWithStatics","originalProps","ref","props","useDefaultProps","selectDefaultProps","_useLocaleReceiver","useLocaleReceiver","_useLocaleReceiver2","_slicedToArray","local","t","emptyText","loadingText","readonly","borderless","autoWidth","creatable","_props$loadingText","max","popupProps","reserveKeyword","className","style","disabled","size","multiple","placeholder","clearable","prefixIcon","options","filterable","loading","empty","valueType","keys","children","collapsedItems","minCollapsedNum","valueDisplay","showArrow","inputProps","panelBottomContent","panelTopContent","selectInputProps","tagInputProps","tagProps","scroll","suffixIcon","label","filter","onFocus","onBlur","_props$onClear","onClear","noop","onCreate","onRemove","onSearch","onEnter","onPopupVisibleChange","_useControlled","useControlled","onChange","_useControlled2","value","selectInputRef","useRef","_useConfig","useConfig","classPrefix","_ref","overlayClassName","onScroll","onScrollToBottom","restPopupProps","_objectWithoutProperties","_excluded","_useState","useState","_useState2","isScrolling","toggleIsScrolling","name","_useControlled3","_useControlled4","showPopup","setShowPopup","_useControlled5","onInputChange","_useControlled6","inputValue","_useOptions","useOptions","currentOptions","setCurrentOptions","tmpPropOptions","valueToOption","selectedOptions","selectedLabel","useMemo","map","selectedOption","get","handleShowPopup","visible","ctx","trigger","onTagChange","_currentTags","context","index","item","e","stopPropagation","closest","len","_selectedOptions$len","values","getSelectValueArr","_getSelectedOptions","getSelectedOptions","currentSelectedOptions","_e$stopPropagation","call","_getSelectedOptions2","isFunction","data","onCheckAllChange","checkAll","_props$value","forEach","option","group","push","_getSelectedOptions3","allSelectedValue","checkAllValue","length","handleChange","selectedValue","_getSelectedOptions4","currentOption","find","handleFilter","filteredOptions","filterLabels","filterMethods","upperValue","toUpperCase","includes","_option$children","_objectSpread","child","isSameLabelOptionExist","concat","handleInputChange","handleClear","Array","isArray","useEffect","String","renderSuffixIcon","React","createElement","Loading","classNames","FakeArrow","isActive","getPopupInstance","useCallback","_selectInputRef$curre","current","getPopupContentElement","childrenWithProps","Children","isValidElement","addedProps","cloneElement","renderContent","popupContentProps","show","PopupContent","renderValueDisplay","_ref2","val","slice","v","key","filterOption","Tag","closable","onClose","_ref3","_e$nativeEvent","_e$nativeEvent$stopIm","_tagProps$onClose","nativeEvent","stopImmediatePropagation","_getSelectedOptions5","_ref4","parseContentTNode","updateScrollTop","content","firstSelectedNode","querySelector","_getComputedStyle","getComputedStyle","paddingBottom","_getComputedStyle2","marginBottom","elementBottomHeight","parseInt","updateValue","getOffsetTopToContainer","offsetTop","clientHeight","setTimeout","scrollTop","onMouseEnter","onMouseLeave","handleEnter","_","handleScroll","_ref5","debounceOnScrollBottom","debounce","_e$target","target","scrollHeight","Math","floor","SelectInput","width","composeRefs","autofocus","allowInput","status","tips","suffix","panel","popupVisible","Option","OptionGroup","displayName"],"mappings":"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"}