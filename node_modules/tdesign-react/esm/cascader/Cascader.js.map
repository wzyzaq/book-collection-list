{"version":3,"file":"Cascader.js","sources":["../../../components/cascader/Cascader.tsx"],"sourcesContent":["import React, { useMemo } from 'react';\nimport classNames from 'classnames';\nimport { pick, omit } from 'lodash-es';\nimport Panel from './components/Panel';\nimport SelectInput from '../select-input';\nimport FakeArrow from '../common/FakeArrow';\nimport useConfig from '../hooks/useConfig';\nimport useCommonClassName from '../hooks/useCommonClassName';\nimport { useLocaleReceiver } from '../locale/LocalReceiver';\nimport { TagInputValue } from '../tag-input';\nimport { TdCascaderProps } from './interface';\nimport { closeIconClickEffect, handleRemoveTagEffect } from './core/effect';\nimport { getPanels, getSingleContent, getMultipleContent } from './core/helper';\nimport { getFakeArrowIconClass } from './core/className';\nimport { useCascaderContext } from './hooks';\nimport { cascaderDefaultProps } from './defaultProps';\nimport { StyledProps } from '../common';\nimport useDefaultProps from '../hooks/useDefaultProps';\nimport parseTNode, { parseContentTNode } from '../_util/parseTNode';\n\nexport interface CascaderProps extends TdCascaderProps, StyledProps {}\n\nconst Cascader: React.FC<CascaderProps> = (originalProps) => {\n  const props = useDefaultProps<CascaderProps>(originalProps, cascaderDefaultProps);\n\n  /**\n   * global user props, config, data\n   */\n  const { classPrefix } = useConfig();\n  const { STATUS } = useCommonClassName();\n  const [global] = useLocaleReceiver('cascader');\n  const COMPONENT_NAME = `${classPrefix}-cascader`;\n\n  // 拿到全局状态的上下文\n  const { cascaderContext, isFilterable, innerValue, getCascaderItems } = useCascaderContext(props);\n\n  const displayValue = useMemo(\n    () => (props.multiple ? getMultipleContent(cascaderContext) : getSingleContent(cascaderContext)),\n    [props.multiple, cascaderContext],\n  );\n\n  const panels = useMemo(() => getPanels(cascaderContext.treeNodes), [cascaderContext]);\n\n  const inputPlaceholder = useMemo(\n    () =>\n      (cascaderContext.visible && !props.multiple && getSingleContent(cascaderContext)) ||\n      (props.placeholder ?? global.placeholder),\n    [props.placeholder, cascaderContext, props.multiple, global.placeholder],\n  );\n\n  const renderSuffixIcon = () => {\n    if (props.suffixIcon) {\n      return props.suffixIcon;\n    }\n\n    const { visible, disabled } = cascaderContext;\n    return (\n      <FakeArrow\n        className={getFakeArrowIconClass(classPrefix, STATUS, cascaderContext)}\n        isActive={visible}\n        disabled={disabled}\n      />\n    );\n  };\n\n  // render label\n  const renderLabel = () => {\n    const label = parseTNode(props.label);\n    if (props.multiple) return label;\n    if (!label) return null;\n    return <div className={`${classPrefix}-tag-input__prefix`}>{label}</div>;\n  };\n\n  // render valueDisplay\n  const valueDisplayParams = useMemo(() => {\n    const arrayValue = innerValue instanceof Array ? innerValue : [innerValue];\n    const displayValue =\n      props.multiple && props.minCollapsedNum ? arrayValue.slice(0, props.minCollapsedNum) : innerValue;\n    const options = getCascaderItems(arrayValue);\n\n    return {\n      value: innerValue,\n      selectedOptions: options,\n      onClose: (index: number) => {\n        handleRemoveTagEffect(cascaderContext, index, props.onRemove);\n      },\n      displayValue,\n    };\n  }, [cascaderContext, innerValue, props.multiple, props.minCollapsedNum, props.onRemove, getCascaderItems]);\n\n  const renderValueDisplay = () => parseContentTNode(props.valueDisplay, valueDisplayParams);\n\n  const { setVisible, visible, inputVal, setInputVal } = cascaderContext;\n\n  const updateScrollTop = (content: HTMLDivElement) => {\n    const cascaderMenuList = content.querySelectorAll(`.${COMPONENT_NAME}__menu`);\n    requestAnimationFrame(() => {\n      cascaderMenuList.forEach((menu: HTMLDivElement) => {\n        const firstSelectedNode: HTMLDivElement =\n          menu?.querySelector(`.${classPrefix}-is-selected`) || menu?.querySelector(`.${classPrefix}-is-expanded`);\n        if (!firstSelectedNode || !menu) return;\n\n        const { paddingBottom } = getComputedStyle(firstSelectedNode);\n        const { marginBottom } = getComputedStyle(menu);\n        const elementBottomHeight = parseInt(paddingBottom, 10) + parseInt(marginBottom, 10);\n\n        const updateValue =\n          firstSelectedNode.offsetTop -\n          menu.offsetTop -\n          (menu.clientHeight - firstSelectedNode.clientHeight) +\n          elementBottomHeight;\n        // eslint-disable-next-line no-param-reassign\n        menu.scrollTop = updateValue;\n      });\n    });\n  };\n\n  return (\n    <SelectInput\n      className={classNames(COMPONENT_NAME, props.className)}\n      style={props.style}\n      value={displayValue}\n      borderless={props.borderless}\n      inputValue={visible ? inputVal : ''}\n      popupVisible={visible}\n      allowInput={isFilterable}\n      minCollapsedNum={props.minCollapsedNum}\n      collapsedItems={props.collapsedItems as any}\n      readonly={props.readonly}\n      clearable={props.clearable}\n      placeholder={inputPlaceholder}\n      multiple={props.multiple}\n      loading={props.loading}\n      disabled={props.disabled}\n      status={props.status}\n      tips={props.tips}\n      label={renderLabel()}\n      valueDisplay={renderValueDisplay()}\n      suffix={props.suffix}\n      suffixIcon={renderSuffixIcon()}\n      updateScrollTop={updateScrollTop}\n      popupProps={{\n        ...props.popupProps,\n        overlayInnerStyle: panels.length && !props.loading ? { width: 'auto' } : {},\n        overlayClassName: [`${classPrefix}-cascader__popup`, props.popupProps?.overlayClassName],\n      }}\n      inputProps={{ size: props.size, ...(props.inputProps as TdCascaderProps['inputProps']) }}\n      tagInputProps={{\n        size: props.size,\n        ...(props.tagInputProps as TdCascaderProps['tagInputProps']),\n      }}\n      tagProps={{ ...(props.tagProps as TdCascaderProps['tagProps']) }}\n      onInputChange={(value, ctx) => {\n        if (!visible || ctx?.trigger === 'clear') {\n          return;\n        }\n        setInputVal(`${value}`);\n        props?.selectInputProps?.onInputChange?.(value, ctx);\n      }}\n      onTagChange={(val: TagInputValue, ctx) => {\n        if (ctx.trigger === 'enter' || ctx.trigger === 'clear') {\n          return;\n        }\n        handleRemoveTagEffect(cascaderContext, ctx.index, props.onRemove);\n        props?.selectInputProps?.onTagChange?.(val, ctx);\n      }}\n      onPopupVisibleChange={(val: boolean, context) => {\n        if (props.disabled) {\n          return;\n        }\n        setVisible(val, context);\n        props?.selectInputProps?.onPopupVisibleChange?.(val, context);\n      }}\n      onBlur={(val, context) => {\n        props.onBlur?.({\n          value: cascaderContext.value,\n          e: context.e,\n          inputValue: inputVal,\n        });\n        props?.selectInputProps?.onBlur?.(val, context);\n      }}\n      onFocus={(val, context) => {\n        props.onFocus?.({\n          value: cascaderContext.value,\n          e: context.e,\n        });\n        props?.selectInputProps?.onFocus?.(val, context);\n      }}\n      onClear={(context) => {\n        closeIconClickEffect(cascaderContext);\n        props?.selectInputProps?.onClear?.(context);\n        props.onClear?.(context);\n      }}\n      {...omit(props.selectInputProps, [\n        'onTagChange',\n        'onInputChange',\n        'onPopupVisibleChange',\n        'onBlur',\n        'onFocus',\n        'onClear',\n      ])}\n      panel={\n        <>\n          {props.panelTopContent && parseTNode(props.panelTopContent)}\n          <Panel\n            cascaderContext={cascaderContext}\n            {...pick(props, ['trigger', 'onChange', 'empty', 'loading', 'loadingText'])}\n          ></Panel>\n          {props.panelBottomContent && parseTNode(props.panelBottomContent)}\n        </>\n      }\n    />\n  );\n};\n\nCascader.displayName = 'Cascader';\n\nexport default Cascader;\n"],"names":["Cascader","originalProps","_props$popupProps","props","useDefaultProps","cascaderDefaultProps","_useConfig","useConfig","classPrefix","_useCommonClassName","useCommonClassName","STATUS","_useLocaleReceiver","useLocaleReceiver","_useLocaleReceiver2","_slicedToArray","global","COMPONENT_NAME","_useCascaderContext","useCascaderContext","cascaderContext","isFilterable","innerValue","getCascaderItems","displayValue","useMemo","multiple","getMultipleContent","getSingleContent","panels","getPanels","treeNodes","inputPlaceholder","_props$placeholder","visible","placeholder","renderSuffixIcon","suffixIcon","disabled","React","createElement","FakeArrow","className","getFakeArrowIconClass","isActive","renderLabel","label","parseTNode","valueDisplayParams","arrayValue","Array","minCollapsedNum","slice","options","value","selectedOptions","onClose","index","handleRemoveTagEffect","onRemove","renderValueDisplay","parseContentTNode","valueDisplay","setVisible","inputVal","setInputVal","updateScrollTop","content","cascaderMenuList","querySelectorAll","concat","requestAnimationFrame","forEach","menu","firstSelectedNode","querySelector","_getComputedStyle","getComputedStyle","paddingBottom","_getComputedStyle2","marginBottom","elementBottomHeight","parseInt","updateValue","offsetTop","clientHeight","scrollTop","SelectInput","_objectSpread","classNames","style","borderless","inputValue","popupVisible","allowInput","collapsedItems","readonly","clearable","loading","status","tips","suffix","popupProps","overlayInnerStyle","length","width","overlayClassName","inputProps","size","tagInputProps","tagProps","onInputChange","ctx","_props$selectInputPro","_props$selectInputPro2","trigger","selectInputProps","call","onTagChange","val","_props$selectInputPro3","_props$selectInputPro4","onPopupVisibleChange","context","_props$selectInputPro5","_props$selectInputPro6","onBlur","_props$onBlur","_props$selectInputPro7","_props$selectInputPro8","e","onFocus","_props$onFocus","_props$selectInputPro9","_props$selectInputPro10","onClear","_props$selectInputPro11","_props$selectInputPro12","_props$onClear","closeIconClickEffect","omit","panel","panelTopContent","Panel","pick","panelBottomContent","displayName"],"mappings":"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"}