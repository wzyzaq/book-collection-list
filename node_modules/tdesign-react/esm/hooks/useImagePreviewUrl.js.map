{"version":3,"file":"useImagePreviewUrl.js","sources":["../../../components/hooks/useImagePreviewUrl.ts"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport log from '@tdesign/common-js/log/index';\nimport { getFileUrlByFileRaw } from '@tdesign/common-js/upload/utils';\n\nexport function useImagePreviewUrl(imgUrl: string | File) {\n  const [previewUrl, setPreviewUrl] = useState('');\n\n  useEffect(() => {\n    if (!imgUrl) return;\n    if (typeof imgUrl === 'string') {\n      setPreviewUrl(imgUrl);\n      return;\n    }\n    getFileUrlByFileRaw(imgUrl).then(\n      (url) => {\n        setPreviewUrl(url);\n      },\n      () => {\n        log.error('Image', 'Image.src is not a valid file');\n      },\n    );\n  }, [imgUrl]);\n\n  return { previewUrl };\n}\n\nexport default useImagePreviewUrl;\n"],"names":["useImagePreviewUrl","imgUrl","_useState","useState","_useState2","_slicedToArray","previewUrl","setPreviewUrl","useEffect","getFileUrlByFileRaw","then","url","log","error"],"mappings":";;;;;;;;;;;;;AAIO,SAASA,mBAAmBC,MAAuB,EAAA;AACxD,EAAA,IAAAC,SAAA,GAAoCC,SAAS,EAAE,CAAA;IAAAC,UAAA,GAAAC,cAAA,CAAAH,SAAA,EAAA,CAAA,CAAA;AAAxCI,IAAAA,UAAA,GAAAF,UAAA,CAAA,CAAA,CAAA;AAAYG,IAAAA,aAAa,GAAAH,UAAA,CAAA,CAAA,CAAA,CAAA;AAEhCI,EAAAA,SAAA,CAAU,YAAM;IACd,IAAI,CAACP,MAAA,EAAQ,OAAA;AACT,IAAA,IAAA,OAAOA,WAAW,QAAU,EAAA;MAC9BM,aAAA,CAAcN,MAAM,CAAA,CAAA;AACpB,MAAA,OAAA;AACF,KAAA;IACAQ,mBAAA,CAAoBR,MAAM,CAAE,CAAAS,IAAA,CAC1B,UAACC,GAAQ,EAAA;MACPJ,aAAA,CAAcI,GAAG,CAAA,CAAA;AACnB,KAAA,EACA,YAAM;AACAC,MAAAA,GAAA,CAAAC,KAAA,CAAM,SAAS,+BAA+B,CAAA,CAAA;AACpD,KACF,CAAA,CAAA;AACF,GAAA,EAAG,CAACZ,MAAM,CAAC,CAAA,CAAA;EAEX,OAAO;AAAEK,IAAAA,UAAW,EAAXA,UAAAA;GAAW,CAAA;AACtB;;;;"}