{"version":3,"file":"useDebounce.js","sources":["../../../components/hooks/useDebounce.ts"],"sourcesContent":["import { debounce } from 'lodash-es';\nimport { useCallback, useEffect } from 'react';\nimport { usePersistFn } from './usePersistFn';\n\n// https://tsdocs.dev/docs/lodash-es/4.17.21/interfaces/_internal_.DebounceSettingsLeading.html\ninterface DebounceSettingsLeading {\n  leading: true;\n  maxWait?: number;\n  trailing?: boolean;\n}\n// https://tsdocs.dev/docs/lodash-es/4.17.21/interfaces/_internal_.DebouncedFuncLeading.html\ninterface DebouncedFuncLeading<T extends (...args: unknown[]) => unknown> {\n  cancel(): void;\n  flush(): ReturnType<T>;\n  (...args): ReturnType<T>;\n}\nconst useDebounce = <T extends (...args: unknown[]) => unknown>(\n  func: T,\n  delay: number,\n  options?: DebounceSettingsLeading,\n): DebouncedFuncLeading<T> => {\n  const callback = usePersistFn(func);\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const debounced = useCallback(debounce(callback, delay, options), [callback, delay, options]);\n  useEffect(() => debounced.cancel, [debounced]);\n\n  return debounced;\n};\n\nexport default useDebounce;\n"],"names":["useDebounce","func","delay","options","callback","usePersistFn","debounced","useCallback","debounce","useEffect","cancel"],"mappings":";;;;;;;;;;AAgBMA,IAAAA,WAAc,GAAA,SAAdA,WAAcA,CAClBC,IACA,EAAAC,KAAA,EACAC,OAC4B,EAAA;AACtB,EAAA,IAAAC,QAAA,GAAWC,aAAaJ,IAAI,CAAA,CAAA;EAG5B,IAAAK,SAAA,GAAYC,WAAY,CAAAC,QAAA,CAASJ,QAAU,EAAAF,KAAA,EAAOC,OAAO,CAAA,EAAG,CAACC,QAAA,EAAUF,KAAO,EAAAC,OAAO,CAAC,CAAA,CAAA;AAC5FM,EAAAA,SAAA,CAAU,YAAA;IAAA,OAAMH,SAAA,CAAUI,MAAQ,CAAA;GAAA,EAAA,CAACJ,SAAS,CAAC,CAAA,CAAA;AAEtC,EAAA,OAAAA,SAAA,CAAA;AACT;;;;"}