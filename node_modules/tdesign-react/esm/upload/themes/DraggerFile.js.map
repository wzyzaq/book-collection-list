{"version":3,"file":"DraggerFile.js","sources":["../../../../components/upload/themes/DraggerFile.tsx"],"sourcesContent":["import React, { FC, MouseEvent, useMemo, useRef } from 'react';\nimport classNames from 'classnames';\nimport {\n  CheckCircleFilledIcon as TdCheckCircleFilledIcon,\n  ErrorCircleFilledIcon as TdErrorCircleFilledIcon,\n} from 'tdesign-icons-react';\nimport { abridgeName, getFileSizeText } from '@tdesign/common-js/upload/utils';\nimport { TdUploadProps, UploadFile } from '../type';\nimport Link from '../../link';\nimport { CommonDisplayFileProps } from '../interface';\nimport useCommonClassName from '../../hooks/useCommonClassName';\nimport TLoading from '../../loading';\nimport useDrag, { UploadDragEvents } from '../hooks/useDrag';\nimport useGlobalIcon from '../../hooks/useGlobalIcon';\nimport ImageViewer from '../../image-viewer';\nimport { parseContentTNode } from '../../_util/parseTNode';\nimport Image from '../../image';\n\nexport interface DraggerProps extends CommonDisplayFileProps {\n  trigger?: TdUploadProps['trigger'];\n  triggerUpload?: () => void;\n  uploadFiles?: (toFiles?: UploadFile[]) => void;\n  cancelUpload?: (context: { e: MouseEvent<HTMLElement>; file: UploadFile }) => void;\n  dragEvents: UploadDragEvents;\n}\n\nconst DraggerFile: FC<DraggerProps> = (props) => {\n  const { displayFiles, locale, disabled, trigger, accept } = props;\n\n  const { SIZE } = useCommonClassName();\n  const uploadPrefix = `${props.classPrefix}-upload`;\n\n  const drag = useDrag({ ...props.dragEvents, accept });\n  const { dragActive } = drag;\n\n  const draggerFileRef = useRef(null);\n\n  const { CheckCircleFilledIcon, ErrorCircleFilledIcon } = useGlobalIcon({\n    CheckCircleFilledIcon: TdCheckCircleFilledIcon,\n    ErrorCircleFilledIcon: TdErrorCircleFilledIcon,\n  });\n\n  const classes = useMemo(\n    () => [\n      `${uploadPrefix}__dragger`,\n      { [`${uploadPrefix}__dragger-center`]: !displayFiles[0] },\n      { [`${uploadPrefix}__dragger-error`]: displayFiles[0]?.status === 'fail' },\n    ],\n    [displayFiles, uploadPrefix],\n  );\n\n  const renderImage = () => {\n    const file = displayFiles[0];\n    const url = file?.url || file?.response?.url;\n    return (\n      <div className={`${uploadPrefix}__dragger-img-wrap`}>\n        <ImageViewer\n          images={[url]}\n          trigger={({ open }) => <Image src={url || file.raw} onClick={open} />}\n          {...props.imageViewerProps}\n        ></ImageViewer>\n      </div>\n    );\n  };\n\n  const renderUploading = () => {\n    const file = displayFiles[0];\n    if (file?.status === 'progress') {\n      return (\n        <div className={`${uploadPrefix}__single-progress`}>\n          <TLoading />\n          <span className={`${uploadPrefix}__single-percent`}>{file.percent}%</span>\n        </div>\n      );\n    }\n  };\n\n  const renderMainPreview = () => {\n    const file = displayFiles[0];\n    const fileName = props.abridgeName ? abridgeName(file.name, ...props.abridgeName) : file.name;\n    const fileInfo = (\n      <>\n        <div className={`${uploadPrefix}__dragger-text`}>\n          <span className={`${uploadPrefix}__single-name`}>{fileName}</span>\n          {file.status === 'progress' && renderUploading()}\n          {file.status === 'success' && <CheckCircleFilledIcon />}\n          {file.status === 'fail' && <ErrorCircleFilledIcon />}\n        </div>\n        <small className={`${SIZE.small}`}>\n          {locale.file.fileSizeText}：{getFileSizeText(file.size)}\n        </small>\n        <small className={`${SIZE.small}`}>\n          {locale.file.fileOperationDateText}：{file.uploadTime || '-'}\n        </small>\n      </>\n    );\n    return (\n      <div className={`${uploadPrefix}__dragger-progress`}>\n        {props.theme === 'image' && renderImage()}\n        <div className={`${uploadPrefix}__dragger-progress-info`}>\n          {props.fileListDisplay ? parseContentTNode(props.fileListDisplay, { files: displayFiles }) : fileInfo}\n          <div className={`${uploadPrefix}__dragger-btns`}>\n            {['progress', 'waiting'].includes(file.status) && !disabled && (\n              <Link\n                theme=\"primary\"\n                hover=\"color\"\n                disabled={disabled}\n                className={`${uploadPrefix}__dragger-progress-cancel`}\n                onClick={(e) =>\n                  props.cancelUpload?.({\n                    e,\n                    file: props.toUploadFiles[0] || props.files[0],\n                  })\n                }\n              >\n                {locale?.cancelUploadText}\n              </Link>\n            )}\n            {!props.autoUpload && file.status === 'waiting' && (\n              <Link\n                theme=\"primary\"\n                hover=\"color\"\n                disabled={disabled}\n                onClick={() => props.uploadFiles?.()}\n                className={`${uploadPrefix}__dragger-upload-btn`}\n              >\n                {locale.triggerUploadText.normal}\n              </Link>\n            )}\n          </div>\n          {['fail', 'success'].includes(file?.status) && !disabled && (\n            <div className={`${uploadPrefix}__dragger-btns`}>\n              <Link\n                theme=\"primary\"\n                hover=\"color\"\n                disabled={disabled}\n                className={`${uploadPrefix}__dragger-progress-reupload`}\n                onClick={props.triggerUpload}\n              >\n                {locale.triggerUploadText.reupload}\n              </Link>\n              <Link\n                theme=\"danger\"\n                hover=\"color\"\n                disabled={disabled}\n                className={`${uploadPrefix}__dragger-delete-btn`}\n                onClick={(e) => props.onRemove({ e, index: 0, file })}\n              >\n                {locale.triggerUploadText.delete}\n              </Link>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  };\n\n  const renderDefaultDragElement = () => {\n    const unActiveElement = (\n      <div>\n        <span className={`${uploadPrefix}--highlight`}>{locale.triggerUploadText?.normal}</span>\n        <span>&nbsp;&nbsp;/&nbsp;&nbsp;{locale.dragger.draggingText}</span>\n      </div>\n    );\n    const activeElement = <div>{locale.dragger.dragDropText}</div>;\n    return dragActive ? activeElement : unActiveElement;\n  };\n\n  const getContent = () => {\n    const file = displayFiles[0];\n    if (file && (['progress', 'success', 'fail', 'waiting'].includes(file.status) || !file.status)) {\n      return renderMainPreview();\n    }\n    return (\n      <div className={`${uploadPrefix}__trigger`} onClick={props.triggerUpload}>\n        {props.children || renderDefaultDragElement()}\n      </div>\n    );\n  };\n\n  return (\n    <div\n      ref={draggerFileRef}\n      className={classNames(classes)}\n      onDrop={drag.handleDrop}\n      onDragEnter={drag.handleDragenter}\n      onDragOver={drag.handleDragover}\n      onDragLeave={drag.handleDragleave}\n    >\n      {parseContentTNode?.(trigger, { files: displayFiles, dragActive }) || getContent()}\n    </div>\n  );\n};\n\nDraggerFile.displayName = 'DraggerFile';\n\nexport default DraggerFile;\n"],"names":["DraggerFile","props","displayFiles","locale","disabled","trigger","accept","_useCommonClassName","useCommonClassName","SIZE","uploadPrefix","concat","classPrefix","drag","useDrag","_objectSpread","dragEvents","dragActive","draggerFileRef","useRef","_useGlobalIcon","useGlobalIcon","CheckCircleFilledIcon","TdCheckCircleFilledIcon","ErrorCircleFilledIcon","TdErrorCircleFilledIcon","classes","useMemo","_displayFiles$","_defineProperty","status","renderImage","_file$response","file","url","response","React","createElement","className","ImageViewer","images","_ref3","open","Image","src","raw","onClick","imageViewerProps","renderUploading","TLoading","percent","renderMainPreview","fileName","abridgeName","apply","name","fileInfo","small","fileSizeText","getFileSizeText","size","fileOperationDateText","uploadTime","theme","fileListDisplay","parseContentTNode","files","includes","Link","hover","e","_props$cancelUpload","cancelUpload","call","toUploadFiles","cancelUploadText","autoUpload","_props$uploadFiles","uploadFiles","triggerUploadText","normal","triggerUpload","reupload","onRemove","index","renderDefaultDragElement","_locale$triggerUpload","unActiveElement","dragger","draggingText","activeElement","dragDropText","getContent","children","ref","classNames","onDrop","handleDrop","onDragEnter","handleDragenter","onDragOver","handleDragover","onDragLeave","handleDragleave","displayName"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA,IAAMA,WAAA,GAAgC,SAAhCA,WAAAA,CAAiCC,KAAU,EAAA;AAC/C,EAAA,IAAQC,YAAc,GAAsCD,KAAA,CAApDC,YAAc;IAAAC,MAAA,GAAsCF,KAAA,CAAtCE,MAAA;IAAQC,QAAU,GAAoBH,KAAA,CAA9BG,QAAU;IAAAC,OAAA,GAAoBJ,KAAA,CAApBI,OAAA;IAASC,SAAWL,KAAA,CAAXK;AAE3C,EAAA,IAAAC,mBAAA,GAAWC,kBAAmB,EAAA;IAA5BC,IAAK,GAAAF,mBAAA,CAALE,IAAK,CAAA;AACP,EAAA,IAAAC,YAAA,GAAAC,EAAAA,CAAAA,MAAA,CAAkBV,KAAM,CAAAW,WAAA,EAAA,SAAA,CAAA,CAAA;EAE9B,IAAMC,OAAOC,OAAQ,CAAAC,aAAA,CAAAA,aAAA,CAAA,EAAA,EAAKd,KAAM,CAAAe,UAAA,CAAA,EAAA,EAAA,EAAA;AAAYV,IAAAA,QAAAA,MAAAA;IAAQ,CAAA,CAAA;AAC9C,EAAA,IAAEW,aAAeJ,IAAA,CAAfI;AAEF,EAAA,IAAAC,cAAA,GAAiBC,OAAO,IAAI,CAAA,CAAA;EAElC,IAAAC,cAAA,GAAyDC,aAAc,CAAA;AACrEC,MAAAA,qBAAuB,EAAAC,qBAAA;AACvBC,MAAAA,qBAAuB,EAAAC,qBAAAA;AACzB,KAAC,CAAA;IAHOH,uBAAA,GAAAF,cAAA,CAAAE,qBAAA;IAAuBE,uBAAsB,GAAAJ,cAAA,CAAtBI,qBAAsB,CAAA;EAKrD,IAAME,OAAU,GAAAC,OAAA,CACd,YAAA;AAAA,IAAA,IAAAC,cAAA,CAAA;AAAA,IAAA,OAAM,IAAAjB,MAAA,CACDD,YAAA,EAAA,WAAA,CAAA,EAAAmB,eAAA,CAAAlB,EAAAA,EAAAA,EAAAA,CAAAA,MAAA,CACGD,YAAiC,uBAAA,CAACR,aAAa,CAAG,CAAA,GAAA2B,eAAA,CAAA,EAAA,EAAA,EAAA,CAAAlB,MAAA,CAClDD,cAAgC,iBAAA,CAAA,EAAA,CAAA,CAAAkB,cAAA,GAAA1B,YAAa,CAAA,CAAA,CAAA,MAAA,IAAA,IAAA0B,cAAA,KAAbA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,cAAA,CAAiBE,YAAW,MAAO,CAC3E,CAAA,CAAA;AAAA,GAAA,EACA,CAAC5B,cAAcQ,YAAY,CAC7B,CAAA,CAAA;AAEA,EAAA,IAAMqB,cAAc,SAAdA,cAAoB;AAAA,IAAA,IAAAC,cAAA,CAAA;AACxB,IAAA,IAAMC,OAAO/B,YAAa,CAAA,CAAA,CAAA,CAAA;IAC1B,IAAMgC,GAAM,GAAA,CAAAD,IAAA,KAAA,IAAA,IAAAA,IAAA,KAAAA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,IAAA,CAAMC,GAAO,MAAAD,IAAA,aAAAA,IAAA,KAAA,KAAA,CAAA,IAAA,CAAAD,cAAA,GAAAC,IAAA,CAAME,QAAU,MAAA,IAAA,IAAAH,cAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAhBA,cAAA,CAAgBE,GAAA,CAAA,CAAA;AACzC,IAAA,sBACGE,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;MAAIC,qBAAc5B,YAAA,EAAA,oBAAA,CAAA;KAAA,iBAChB0B,KAAA,CAAAC,aAAA,CAAAE,WAAA,EAAAxB,aAAA,CAAA;MACCyB,MAAA,EAAQ,CAACN,GAAG,CAAA;AACZ7B,MAAAA,OAAS,EAAA,SAATA,OAASA,CAAAoC,KAAA,EAAA;AAAA,QAAA,IAAGC,IAAA,GAAAD,KAAA,CAAAC,IAAA,CAAA;AAAA,QAAA,sBAAYN,KAAA,CAAAC,aAAA,CAAAM,KAAA,EAAA;AAAMC,UAAAA,GAAA,EAAKV,OAAOD,IAAK,CAAAY,GAAA;AAAKC,UAAAA,OAAS,EAAAJ,IAAAA;AAAM,SAAA,CAAA,CAAA;AAAA,OAAA;AAAA,KAAA,EAC/DzC,KAAM,CAAA8C,gBAAA,CACX,CACH,CAAA,CAAA;GAEJ,CAAA;AAEA,EAAA,IAAMC,kBAAkB,SAAlBA,kBAAwB;AAC5B,IAAA,IAAMf,OAAO/B,YAAa,CAAA,CAAA,CAAA,CAAA;IACtB,IAAA,CAAA+B,IAAA,KAAA,IAAA,IAAAA,IAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,IAAA,CAAMH,YAAW,UAAY,EAAA;AAC/B,MAAA,sBACGM,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;QAAIC,qBAAc5B,YAAA,EAAA,mBAAA,CAAA;AACjB,OAAA,iBAAA0B,KAAA,CAAAC,aAAA,CAACY,OAAS,EAAA,IAAA,CAAA,iBACTb,KAAA,CAAAC,aAAA,CAAA,MAAA,EAAA;QAAKC,qBAAc5B,YAAA,EAAA,kBAAA,CAAA;AAAiC,OAAA,EAAAuB,IAAA,CAAKiB,OAAQ,EAAA,GAAC,CACrE,CAAA,CAAA;AAEJ,KAAA;GACF,CAAA;AAEA,EAAA,IAAMC,oBAAoB,SAApBA,oBAA0B;AAC9B,IAAA,IAAMlB,OAAO/B,YAAa,CAAA,CAAA,CAAA,CAAA;IACpB,IAAAkD,QAAA,GAAWnD,KAAM,CAAAoD,WAAA,GAAcA,WAAY,CAAAC,KAAA,CAAA,KAAA,CAAA,EAAA,CAAArB,IAAA,CAAKsB,gCAAStD,KAAA,CAAMoD,WAAW,CAAA,CAAA,CAAA,GAAIpB,IAAK,CAAAsB,IAAA,CAAA;AACnF,IAAA,IAAAC,QAAA,2EAEDpB,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;MAAIC,qBAAc5B,YAAA,EAAA,gBAAA,CAAA;AAAA,KAAA,iBAChB0B,KAAA,CAAAC,aAAA,CAAA,MAAA,EAAA;MAAKC,qBAAc5B,YAAA,EAAA,eAAA,CAAA;KAA8B,EAAA0C,QAAS,GAC1DnB,IAAK,CAAAH,MAAA,KAAW,cAAckB,eAAgB,EAAA,EAC9Cf,KAAKH,MAAW,KAAA,SAAA,uCAAcR,uBAAsB,EAAA,IAAA,CAAA,EACpDW,KAAKH,MAAW,KAAA,MAAA,uCAAWN,uBAAsB,EAAA,IAAA,CACpD,kBACCY,KAAA,CAAAC,aAAA,CAAA,OAAA,EAAA;AAAMC,MAAAA,SAAA,EAAA3B,EAAAA,CAAAA,MAAA,CAAcF,IAAK,CAAAgD,KAAA,CAAA;KACvB,EAAAtD,MAAA,CAAO8B,KAAKyB,YAAa,EAAA,QAAA,EAAEC,gBAAgB1B,IAAK,CAAA2B,IAAI,CACvD,CAAA,iBACCxB,KAAA,CAAAC,aAAA,CAAA,OAAA,EAAA;AAAMC,MAAAA,SAAA,EAAA3B,EAAAA,CAAAA,MAAA,CAAcF,IAAK,CAAAgD,KAAA,CAAA;AAAA,KAAA,EACvBtD,OAAO8B,IAAK,CAAA4B,qBAAA,EAAsB,UAAE5B,IAAK,CAAA6B,UAAA,IAAc,GAC1D,CACF,CAAA,CAAA;AAEF,IAAA,sBACG1B,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;MAAIC,qBAAc5B,YAAA,EAAA,oBAAA,CAAA;AAAA,KAAA,EAChBT,KAAM,CAAA8D,KAAA,KAAU,OAAW,IAAAhC,WAAA,mBAC3BK,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;MAAIC,qBAAc5B,YAAA,EAAA,yBAAA,CAAA;KAChB,EAAAT,KAAA,CAAM+D,eAAkB,GAAAC,iBAAA,CAAkBhE,KAAM,CAAA+D,eAAA,EAAiB;AAAEE,MAAAA,KAAA,EAAOhE,YAAAA;KAAc,CAAI,GAAAsD,QAAA,iBAC5FpB,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;MAAIC,qBAAc5B,YAAA,EAAA,gBAAA,CAAA;KAChB,EAAA,CAAC,UAAY,EAAA,SAAS,CAAE,CAAAyD,QAAA,CAASlC,KAAKH,MAAM,CAAA,IAAK,CAAC1B,QAAA,mBAChDgC,KAAA,CAAAC,aAAA,CAAA+B,IAAA,EAAA;AACCL,MAAAA,KAAM,EAAA,SAAA;AACNM,MAAAA,KAAM,EAAA,OAAA;AACNjE,MAAAA,QAAA,EAAAA,QAAA;AACAkC,MAAAA,qBAAc5B,YAAA,EAAA,2BAAA,CAAA;AACdoC,MAAAA,OAAS,EAAA,SAATA,OAASA,CAACwB,CACR,EAAA;AAAA,QAAA,IAAAC,mBAAA,CAAA;AAAA,QAAA,OAAA,CAAAA,mBAAA,GAAAtE,KAAA,CAAMuE,YAAe,MAAA,IAAA,IAAAD,mBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAArBA,mBAAA,CAAAE,IAAA,CAAAxE,KAAA,EAAqB;AACnBqE,UAAAA,CAAA,EAAAA,CAAA;AACArC,UAAAA,IAAM,EAAAhC,KAAA,CAAMyE,aAAc,CAAA,CAAA,CAAA,IAAMzE,MAAMiE,KAAM,CAAA,CAAA,CAAA;AAC9C,SAAC,CAAA,CAAA;AAAA,OAAA;KAGF,EAAA/D,MAAA,KAAA,IAAA,IAAAA,MAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,MAAA,CAAQwE,gBACX,CAED,EAAA,CAAC1E,MAAM2E,UAAc,IAAA3C,IAAA,CAAKH,MAAW,KAAA,SAAA,mBACnCM,KAAA,CAAAC,aAAA,CAAA+B,IAAA,EAAA;AACCL,MAAAA,KAAM,EAAA,SAAA;AACNM,MAAAA,KAAM,EAAA,OAAA;AACNjE,MAAAA,QAAA,EAAAA,QAAA;MACA0C,OAAA,EAAS,SAATA,OAAAA,GAAA;AAAA,QAAA,IAAA+B,kBAAA,CAAA;AAAA,QAAA,OAAA,CAAAA,kBAAA,GAAe5E,KAAA,CAAM6E,WAAc,MAAA,IAAA,IAAAD,kBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAApBA,kBAAA,CAAAJ,IAAA,CAAAxE,KAAoB,CAAA,CAAA;AAAA,OAAA;MACnCqC,qBAAc5B,YAAA,EAAA,sBAAA,CAAA;AAAA,KAAA,EAEbP,MAAO,CAAA4E,iBAAA,CAAkBC,MAC5B,CAEJ,GACC,CAAC,MAAA,EAAQ,SAAS,CAAA,CAAEb,SAASlC,IAAM,KAAA,IAAA,IAANA,IAAM,KAANA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,IAAM,CAAAH,MAAM,CAAK,IAAA,CAAC1B,2BAC7CgC,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;MAAIC,qBAAc5B,YAAA,EAAA,gBAAA,CAAA;AAAA,KAAA,iBAChB0B,KAAA,CAAAC,aAAA,CAAA+B,IAAA,EAAA;AACCL,MAAAA,KAAM,EAAA,SAAA;AACNM,MAAAA,KAAM,EAAA,OAAA;AACNjE,MAAAA,QAAA,EAAAA,QAAA;AACAkC,MAAAA,qBAAc5B,YAAA,EAAA,6BAAA,CAAA;MACdoC,SAAS7C,KAAM,CAAAgF,aAAAA;AAAA,KAAA,EAEd9E,MAAO,CAAA4E,iBAAA,CAAkBG,QAC5B,CAAA,iBACC9C,KAAA,CAAAC,aAAA,CAAA+B,IAAA,EAAA;AACCL,MAAAA,KAAM,EAAA,QAAA;AACNM,MAAAA,KAAM,EAAA,OAAA;AACNjE,MAAAA,QAAA,EAAAA,QAAA;AACAkC,MAAAA,qBAAc5B,YAAA,EAAA,sBAAA,CAAA;AACdoC,MAAAA,OAAA,EAAS,SAATA,OAAAA,CAAUwB,CAAA,EAAA;QAAA,OAAMrE,KAAM,CAAAkF,QAAA,CAAS;AAAEb,UAAAA,CAAG,EAAHA,CAAG;AAAAc,UAAAA,KAAA,EAAO,CAAG;AAAAnD,UAAAA,IAAA,EAAAA,IAAAA;AAAK,SAAC,CAAA,CAAA;AAAA,OAAA;KAAA,EAEnD9B,MAAO,CAAA4E,iBAAA,UACV,CACF,CAEJ,CACF,CAAA,CAAA;GAEJ,CAAA;AAEA,EAAA,IAAMM,2BAA2B,SAA3BA,2BAAiC;AAAA,IAAA,IAAAC,qBAAA,CAAA;AAC/B,IAAA,IAAAC,eAAA,kBACHnD,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA,IAAA,iBACED,KAAA,CAAAC,aAAA,CAAA,MAAA,EAAA;MAAKC,qBAAc5B,YAAA,EAAA,aAAA,CAAA;AAA4B,KAAA,EAAA4E,CAAAA,qBAAA,GAAAnF,MAAA,CAAO4E,iBAAmB,MAAAO,IAAAA,IAAAA,qBAAA,KAA1BA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,qBAAA,CAA0BN,MAAO,CACjF,iBAAA5C,KAAA,CAAAC,aAAA,CAAC,cAAK,mBAA0B,EAAAlC,MAAA,CAAOqF,OAAQ,CAAAC,YAAa,CAC9D,CAAA,CAAA;AAEF,IAAA,IAAMC,aAAgB,kBAAAtD,KAAA,CAAAC,aAAA,CAAC,KAAK,EAAA,IAAA,EAAAlC,MAAA,CAAOqF,QAAQG,YAAa,CAAA,CAAA;AACxD,IAAA,OAAO1E,aAAayE,aAAgB,GAAAH,eAAA,CAAA;GACtC,CAAA;AAEA,EAAA,IAAMK,aAAa,SAAbA,aAAmB;AACvB,IAAA,IAAM3D,OAAO/B,YAAa,CAAA,CAAA,CAAA,CAAA;IAC1B,IAAI+B,IAAS,KAAA,CAAC,UAAY,EAAA,SAAA,EAAW,MAAQ,EAAA,SAAS,CAAE,CAAAkC,QAAA,CAASlC,IAAK,CAAAH,MAAM,CAAK,IAAA,CAACG,KAAKH,MAAS,CAAA,EAAA;MAC9F,OAAOqB,iBAAkB,EAAA,CAAA;AAC3B,KAAA;AACA,IAAA,sBACGf,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;AAAIC,MAAAA,qBAAc5B,YAAA,EAAA,WAAA,CAAA;MAAyBoC,SAAS7C,KAAM,CAAAgF,aAAAA;KACxD,EAAAhF,KAAA,CAAM4F,QAAY,IAAAR,wBAAA,EACrB,CAAA,CAAA;GAEJ,CAAA;AAEA,EAAA,sBACGjD,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;AACCyD,IAAAA,GAAK,EAAA5E,cAAA;AACLoB,IAAAA,SAAA,EAAWyD,WAAWrE,OAAO,CAAA;IAC7BsE,QAAQnF,IAAK,CAAAoF,UAAA;IACbC,aAAarF,IAAK,CAAAsF,eAAA;IAClBC,YAAYvF,IAAK,CAAAwF,cAAA;IACjBC,aAAazF,IAAK,CAAA0F,eAAAA;GAEjB,EAAA,CAAAtC,iBAAA,KAAA,IAAA,IAAAA,iBAAA,KAAAA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,iBAAA,CAAoB5D,SAAS;AAAE6D,IAAAA,KAAA,EAAOhE;AAAce,IAAAA,UAAW,EAAXA,UAAAA;AAAW,GAAC,CAAK,KAAA2E,UAAA,EACxE,CAAA,CAAA;AAEJ,EAAA;AAEA5F,WAAA,CAAYwG,WAAc,GAAA,aAAA;;;;"}