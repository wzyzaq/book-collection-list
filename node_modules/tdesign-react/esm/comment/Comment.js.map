{"version":3,"file":"Comment.js","sources":["../../../components/comment/Comment.tsx"],"sourcesContent":["import React, { forwardRef } from 'react';\nimport classNames from 'classnames';\nimport Button from '../button';\nimport useConfig from '../hooks/useConfig';\nimport { StyledProps } from '../common';\nimport { TdCommentProps } from './type';\nimport { commentDefaultProps } from './defaultProps';\nimport useDefaultProps from '../hooks/useDefaultProps';\n\nexport interface CommentProps extends TdCommentProps, StyledProps {}\n\nconst Comment = forwardRef<HTMLDivElement, CommentProps>((props, ref) => {\n  const { actions, author, avatar, content, datetime, reply, quote, className, style } = useDefaultProps(\n    props,\n    commentDefaultProps,\n  );\n\n  const { classPrefix } = useConfig();\n\n  const avatarElement = avatar ? (\n    <div className={`${classPrefix}-comment__avatar`}>\n      {typeof avatar === 'string' ? (\n        <img src={avatar} alt=\"\" className={`${classPrefix}-comment__avatar-image`} />\n      ) : (\n        avatar\n      )}\n    </div>\n  ) : null;\n\n  const authorDatetimeContent = (author || datetime) && (\n    <div className={`${classPrefix}-comment__author`}>\n      {author && <span className={`${classPrefix}-comment__name`}>{author}</span>}\n      {datetime && <span className={`${classPrefix}-comment__time`}>{datetime}</span>}\n    </div>\n  );\n\n  const quoteElement = quote ? <div className={`${classPrefix}-comment__quote`}>{quote}</div> : null;\n\n  const actionsElement =\n    actions && actions.length ? (\n      <div className={`${classPrefix}-comment__actions`}>\n        {actions.map((action, index) => (\n          <Button key={`action-${index}`} size=\"small\" variant=\"text\">\n            {action}\n          </Button>\n        ))}\n      </div>\n    ) : null;\n\n  const contentElement = (\n    <div className={`${classPrefix}-comment__content`}>\n      {authorDatetimeContent}\n      <div className={`${classPrefix}-comment__detail`}>{content}</div>\n      {quoteElement}\n      {actionsElement}\n    </div>\n  );\n\n  const replyElement = reply ? <div className={classNames(`${classPrefix}-comment__reply`)}>{reply}</div> : null;\n\n  return (\n    <div ref={ref} style={style} className={classNames(`${classPrefix}-comment`, className)}>\n      <div className={`${classPrefix}-comment__inner`}>\n        {avatarElement}\n        {contentElement}\n      </div>\n      {replyElement}\n    </div>\n  );\n});\n\nComment.displayName = 'Comment';\n\nexport default Comment;\n"],"names":["Comment","forwardRef","props","ref","_useDefaultProps","useDefaultProps","commentDefaultProps","actions","author","avatar","content","datetime","reply","quote","className","style","_useConfig","useConfig","classPrefix","avatarElement","React","createElement","src","alt","authorDatetimeContent","quoteElement","actionsElement","length","map","action","index","Button","key","size","variant","contentElement","replyElement","classNames","concat","displayName"],"mappings":"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"}