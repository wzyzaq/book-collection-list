{"version":3,"file":"dep-ee46e974.js","sources":["../../../components/image-viewer/ImageViewerMini.tsx","../../../components/image-viewer/ImageViewerModal.tsx"],"sourcesContent":["import React, { KeyboardEvent, MouseEvent } from 'react';\nimport { TNode } from '../common';\nimport Dialog from '../dialog';\nimport { ImageInfo, ImageScale, ImageViewerScale } from './type';\nimport { ImageModalItem, ImageViewerUtils } from './ImageViewerModal';\nimport useConfig from '../hooks/useConfig';\n\nimport type { TdImageViewerProps } from './type';\n\nexport interface ImageModalMiniProps {\n  visible: boolean;\n  title?: TNode;\n  draggable: boolean;\n  index: number;\n  scale: number;\n  mirror: number;\n  images: ImageInfo[];\n  onClose: (context: { trigger: 'close-btn' | 'overlay' | 'esc'; e: MouseEvent<HTMLElement> | KeyboardEvent }) => void;\n  imageScale: ImageScale;\n  viewerScale: ImageViewerScale;\n  rotateZ: number;\n  currentImage: ImageInfo;\n  prev: () => void;\n  next: () => void;\n  onMirror: () => void;\n  onZoom: () => void;\n  onZoomOut: () => void;\n  onReset: () => void;\n  onRotate: (red: number) => void;\n  zIndex: number;\n  errorText: string;\n  tipText: {\n    mirror: string;\n    rotate: string;\n    originsize: string;\n  };\n  imageReferrerpolicy?: TdImageViewerProps['imageReferrerpolicy'];\n}\n\nexport const ImageModalMiniContent: React.FC<ImageModalMiniProps> = (props) => {\n  const { classPrefix } = useConfig();\n\n  return (\n    <div className={`${classPrefix}-image-viewer-mini__content`}>\n      <ImageModalItem\n        rotateZ={props.rotateZ}\n        scale={props.scale}\n        mirror={props.mirror}\n        src={props.currentImage.mainImage}\n        preSrc={props.currentImage.thumbnail}\n        errorText={props.errorText}\n        imageReferrerpolicy={props.imageReferrerpolicy}\n        isSvg={props.currentImage.isSvg}\n      />\n    </div>\n  );\n};\n\nexport const ImageModalMini: React.FC<ImageModalMiniProps> = (props) => {\n  const {\n    visible,\n    title,\n    scale,\n    currentImage,\n    draggable,\n    onZoomOut,\n    onZoom,\n    onClose,\n    onRotate,\n    onMirror,\n    onReset,\n    tipText,\n  } = props;\n\n  const { classPrefix } = useConfig();\n\n  const footer = (\n    <div className={`${classPrefix}-image-viewer-mini__footer`}>\n      <ImageViewerUtils\n        onZoom={onZoom}\n        onZoomOut={onZoomOut}\n        scale={scale}\n        currentImage={currentImage}\n        onRotate={onRotate}\n        onMirror={onMirror}\n        onReset={onReset}\n        tipText={tipText}\n      />\n    </div>\n  );\n\n  return (\n    <Dialog\n      className={`${classPrefix}-image-viewer__dialog`}\n      draggable={draggable}\n      visible={visible}\n      width=\"min(90vw, 1000px)\"\n      placement=\"center\"\n      mode=\"modeless\"\n      closeOnOverlayClick={false}\n      cancelBtn={null}\n      confirmBtn={null}\n      header={<span className={`${classPrefix}-image-viewer__dialog-title`}>{title}</span>}\n      footer={footer}\n      onClose={onClose}\n    >\n      <ImageModalMiniContent {...props} />\n    </Dialog>\n  );\n};\n","import React, { useState, useEffect, useCallback, MouseEvent, KeyboardEvent, useRef } from 'react';\nimport { isArray, isFunction } from 'lodash-es';\nimport {\n  ImageErrorIcon as TdImageErrorIcon,\n  ImageIcon as TdImageIcon,\n  MirrorIcon as TdMirrorIcon,\n  RotationIcon as TdRotationIcon,\n} from 'tdesign-icons-react';\nimport classNames from 'classnames';\nimport { largeNumberToFixed } from '@tdesign/common-js/input-number/large-number';\nimport useImagePreviewUrl from '../hooks/useImagePreviewUrl';\nimport { TooltipLite } from '../tooltip';\nimport useConfig from '../hooks/useConfig';\nimport { useLocaleReceiver } from '../locale/LocalReceiver';\nimport { TNode } from '../common';\nimport { downloadFile } from './utils';\nimport { ImageInfo, ImageScale, ImageViewerScale } from './type';\nimport { ImageModalMini } from './ImageViewerMini';\nimport useMirror from './hooks/useMirror';\nimport usePosition from './hooks/usePosition';\nimport useIndex from './hooks/useIndex';\nimport useRotate from './hooks/useRotate';\nimport useScale from './hooks/useScale';\nimport useGlobalIcon from '../hooks/useGlobalIcon';\nimport useIconMap from './hooks/useIconMap';\nimport Image from '../image';\n\nimport type { TdImageViewerProps } from './type';\nimport { ImageViewerProps } from './ImageViewer';\n\nconst ImageError = ({ errorText }: { errorText: string }) => {\n  const { classPrefix } = useConfig();\n  const { ImageErrorIcon } = useGlobalIcon({ ImageErrorIcon: TdImageErrorIcon });\n\n  return (\n    <div className={`${classPrefix}-image-viewer__img-error`}>\n      {/* 脱离文档流 */}\n      <div className={`${classPrefix}-image-viewer__img-error-content`}>\n        <ImageErrorIcon size=\"4em\" />\n        <div className={`${classPrefix}-image-viewer__img-error-text`}>{errorText}</div>\n      </div>\n    </div>\n  );\n};\n\ninterface ImageModalItemProps {\n  rotateZ: number;\n  scale: number;\n  mirror: number;\n  src: string | File;\n  preSrc?: string | File;\n  errorText: string;\n  imageReferrerpolicy?: TdImageViewerProps['imageReferrerpolicy'];\n  isSvg: boolean;\n}\n\n// 单个弹窗实例\nexport const ImageModalItem: React.FC<ImageModalItemProps> = ({\n  rotateZ,\n  scale,\n  src,\n  preSrc,\n  mirror,\n  errorText,\n  imageReferrerpolicy,\n  isSvg,\n}) => {\n  const { classPrefix } = useConfig();\n\n  const [position, onMouseDown] = usePosition({ initPosition: [0, 0] });\n  const [loaded, setLoaded] = useState(false);\n  const [error, setError] = useState(false);\n  const attachSvgElRef = useRef<HTMLDivElement>(null);\n\n  const imgStyle = {\n    transform: `rotateZ(${rotateZ}deg) scale(${scale})`,\n    display: !preSrc || loaded ? 'block' : 'none',\n  };\n  const preImgStyle = { transform: `rotateZ(${rotateZ}deg) scale(${scale})`, display: !loaded ? 'block' : 'none' };\n  const boxStyle = { transform: `translate(${position[0]}px, ${position[1]}px) scale(${mirror}, 1)` };\n\n  const { previewUrl: preSrcImagePreviewUrl } = useImagePreviewUrl(preSrc);\n  const { previewUrl: mainImagePreviewUrl } = useImagePreviewUrl(src);\n\n  const createSvgShadow = async (url: string) => {\n    const response = await fetch(url);\n    if (!response.ok) {\n      setError(true);\n      throw new Error(`Failed to fetch SVG: ${response.statusText}`);\n    }\n\n    const svgText = await response.text();\n\n    const element = attachSvgElRef.current;\n    element.innerHTML = '';\n    element.classList?.add(`${classPrefix}-image-viewer__modal-image-svg`);\n    const shadowRoot = element.attachShadow({ mode: 'closed' });\n\n    const container = document.createElement('div');\n    container.style.background = 'transparent';\n    container.innerHTML = svgText;\n    shadowRoot.appendChild(container);\n\n    const svgElement = container.querySelector('svg');\n    if (svgElement) {\n      const svgViewBox = svgElement.getAttribute('viewBox');\n      if (svgViewBox) {\n        const viewBoxValues = svgViewBox\n          .split(/[\\s,]/)\n          .filter((v) => v)\n          .map(parseFloat);\n\n        // svg viewbox x(0) and y(1) offset, width(2) and height(3),eg\n        const svgViewBoxWidth = viewBoxValues[2];\n        const svgViewBoxHeight = viewBoxValues[3];\n        container.style.width = `${svgViewBoxWidth}px`;\n        container.style.height = `${svgViewBoxHeight}px`;\n      } else {\n        const bbox = svgElement.getBBox();\n        const calculatedViewBox = `${bbox.x} ${bbox.y} ${bbox.width} ${bbox.height}`;\n        svgElement.setAttribute('viewBox', calculatedViewBox);\n\n        container.style.width = `${bbox.width}px`;\n        container.style.height = `${bbox.height}px`;\n      }\n    }\n    setLoaded(true);\n  };\n\n  useEffect(() => {\n    setError(false);\n  }, [preSrcImagePreviewUrl, mainImagePreviewUrl]);\n\n  useEffect(() => {\n    if (isSvg && mainImagePreviewUrl) {\n      createSvgShadow(mainImagePreviewUrl);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [mainImagePreviewUrl]);\n\n  return (\n    <div className={`${classPrefix}-image-viewer__modal-pic`}>\n      <div className={`${classPrefix}-image-viewer__modal-box`} style={boxStyle}>\n        {error && <ImageError errorText={errorText} />}\n        {!error && !!preSrc && preSrcImagePreviewUrl && (\n          <img\n            className={`${classPrefix}-image-viewer__modal-image`}\n            onMouseDown={(event) => {\n              event.stopPropagation();\n              onMouseDown(event);\n            }}\n            src={preSrcImagePreviewUrl}\n            style={preImgStyle}\n            referrerPolicy={imageReferrerpolicy}\n            alt=\"image\"\n            draggable=\"false\"\n          />\n        )}\n        {!error && mainImagePreviewUrl && !isSvg && (\n          <img\n            className={`${classPrefix}-image-viewer__modal-image`}\n            onMouseDown={(event) => {\n              event.stopPropagation();\n              onMouseDown(event);\n            }}\n            src={mainImagePreviewUrl}\n            style={imgStyle}\n            onLoad={() => setLoaded(true)}\n            onError={() => setError(true)}\n            referrerPolicy={imageReferrerpolicy}\n            alt=\"image\"\n            draggable=\"false\"\n          />\n        )}\n        {!error && !!mainImagePreviewUrl && isSvg && (\n          <div\n            ref={attachSvgElRef}\n            className={`${classPrefix}-image-viewer__modal-image`}\n            onMouseDown={(event) => {\n              event.stopPropagation();\n              onMouseDown(event);\n            }}\n            style={imgStyle}\n            data-alt=\"svg\"\n            draggable=\"false\"\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\n// 旋转角度单位\nconst ROTATE_COUNT = 90;\n\ninterface ImageModalIconProps {\n  name?: string;\n  size?: string;\n  label?: string;\n  className?: string;\n  disabled?: boolean;\n  isRange?: boolean;\n  onClick?: (e: MouseEvent<HTMLElement>) => void;\n}\n\nconst ImageModalIcon = ({ onClick, className, disabled, isRange, name, label, size = '16px' }: ImageModalIconProps) => {\n  const { classPrefix } = useConfig();\n\n  const Icons = useIconMap();\n\n  const Icon = Icons[name];\n  return (\n    <div\n      className={classNames(`${classPrefix}-image-viewer__modal-icon`, className, {\n        [`${classPrefix}-is-disabled`]: disabled,\n      })}\n      onClick={onClick}\n    >\n      {name && <Icon size={size} className={isRange ? 'is-range' : null} />}\n      {label && <span className={`${classPrefix}-image-viewer__modal-icon-label`}>{label}</span>}\n    </div>\n  );\n};\n\ninterface ImageViewerUtilsProps {\n  scale: number;\n  currentImage: ImageInfo;\n  onRotate: (ROTATE_COUNT: number) => void;\n  onZoom: () => void;\n  onZoomOut: () => void;\n  onMirror: () => void;\n  onReset: () => void;\n  tipText: {\n    mirror: string;\n    rotate: string;\n    originsize: string;\n  };\n  onDownload?: TdImageViewerProps['onDownload'];\n}\n\nexport const ImageViewerUtils: React.FC<ImageViewerUtilsProps> = ({\n  onZoom,\n  scale,\n  onZoomOut,\n  currentImage,\n  onRotate,\n  onMirror,\n  onReset,\n  tipText,\n  onDownload,\n}) => {\n  const { classPrefix } = useConfig();\n  const { MirrorIcon, RotationIcon, ImageIcon } = useGlobalIcon({\n    MirrorIcon: TdMirrorIcon,\n    RotationIcon: TdRotationIcon,\n    ImageIcon: TdImageIcon,\n  });\n\n  return (\n    <div className={`${classPrefix}-image-viewer__utils`}>\n      <div className={`${classPrefix}-image-viewer__utils-content`}>\n        <TooltipLite className={`${classPrefix}-image-viewer__utils--tip`} content={tipText.mirror} showShadow={false}>\n          <div className={`${classPrefix}-image-viewer__modal-icon`}>\n            <MirrorIcon size=\"medium\" onClick={onMirror} />\n          </div>\n        </TooltipLite>\n        <TooltipLite className={`${classPrefix}-image-viewer__utils--tip`} content={tipText.rotate} showShadow={false}>\n          <div className={`${classPrefix}-image-viewer__modal-icon`}>\n            <RotationIcon size=\"medium\" onClick={() => onRotate(-ROTATE_COUNT)} />\n          </div>\n        </TooltipLite>\n        <ImageModalIcon size=\"medium\" name=\"zoom-out\" onClick={onZoomOut} />\n        <ImageModalIcon\n          className={`${classPrefix}-image-viewer__utils-scale`}\n          size=\"medium\"\n          label={`${largeNumberToFixed(String(scale * 100))}%`}\n        />\n        <ImageModalIcon size=\"medium\" name=\"zoom-in\" onClick={onZoom} />\n        <TooltipLite\n          className={`${classPrefix}-image-viewer__utils--tip`}\n          content={tipText.originsize}\n          showShadow={false}\n        >\n          <div className={`${classPrefix}-image-viewer__modal-icon`}>\n            <ImageIcon\n              size=\"medium\"\n              name=\"image\"\n              onClick={() => {\n                onReset();\n              }}\n            />\n          </div>\n        </TooltipLite>\n        {currentImage.download && (\n          <ImageModalIcon\n            size=\"medium\"\n            name=\"download\"\n            onClick={() => {\n              if (isFunction(onDownload)) {\n                // 自定义图片预览下载\n                onDownload(currentImage.mainImage);\n                return;\n              }\n              downloadFile(currentImage.mainImage);\n            }}\n          />\n        )}\n      </div>\n      {/* <IconFont size=\"3em\" name=\"page-last\" onClick={() => onRotate(ROTATE_COUNT)} /> */}\n    </div>\n  );\n};\n\ntype ImageViewerHeaderProps = {\n  onImgClick: (index: number, ctx: { trigger: 'current' }) => void;\n  images: ImageInfo[];\n  currentIndex: number;\n  imageReferrerpolicy?: TdImageViewerProps['imageReferrerpolicy'];\n};\n\nfunction OneImagePreview({\n  image,\n  classPrefix,\n  imageReferrerpolicy,\n}: {\n  image: ImageInfo;\n  classPrefix: string;\n  imageReferrerpolicy?: TdImageViewerProps['imageReferrerpolicy'];\n}) {\n  const { previewUrl } = useImagePreviewUrl(image.thumbnail || image.mainImage);\n  return (\n    <Image\n      alt=\"\"\n      error=\"\"\n      src={previewUrl}\n      className={`${classPrefix}-image-viewer__header-img`}\n      referrerpolicy={imageReferrerpolicy}\n    />\n  );\n}\n\nconst ImageViewerHeader = (props: ImageViewerHeaderProps) => {\n  const { classPrefix } = useConfig();\n  const { images, currentIndex, onImgClick, imageReferrerpolicy } = props;\n\n  const [isExpand, setIsExpand] = useState(true);\n\n  // 宽高比 16:9 按比例偏移\n  const transStyle = { transform: `translateX(calc(-${currentIndex} * (40px / 9 * 16 + 4px)))` };\n\n  return (\n    <div\n      className={classNames(`${classPrefix}-image-viewer__modal-header`, {\n        [`${classPrefix}-is-show`]: isExpand,\n      })}\n    >\n      <ImageModalIcon\n        name=\"chevron-down\"\n        className={`${classPrefix}-image-viewer__header-pre-bt`}\n        onClick={() => setIsExpand(!isExpand)}\n      />\n      <div className={`${classPrefix}-image-viewer__header-prev`}>\n        <div className={`${classPrefix}-image-viewer__header-trans`} style={transStyle}>\n          {images.map((image, index) => (\n            <div\n              key={index}\n              className={classNames(`${classPrefix}-image-viewer__header-box`, {\n                [`${classPrefix}-is-active`]: index === currentIndex,\n              })}\n              onClick={() => onImgClick(index, { trigger: 'current' })}\n            >\n              <OneImagePreview image={image} classPrefix={classPrefix} imageReferrerpolicy={imageReferrerpolicy} />\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport interface ImageModalProps {\n  title?: TNode;\n  visible: boolean;\n  closeOnOverlay: boolean;\n  showOverlay: boolean;\n  index: number;\n  defaultIndex?: number;\n  images: ImageInfo[];\n  onClose: (context: { trigger: 'close-btn' | 'overlay' | 'esc'; e: MouseEvent<HTMLElement> | KeyboardEvent }) => void;\n  onOpen: () => void;\n  imageScale: ImageScale;\n  viewerScale: ImageViewerScale;\n  zIndex: number;\n  isMini: boolean;\n  draggable: boolean;\n  closeBtn: boolean | TNode;\n  closeOnEscKeydown?: boolean;\n  onDownload?: TdImageViewerProps['onDownload'];\n  onIndexChange?: (index: number, context: { trigger: 'prev' | 'next' }) => void;\n  imageReferrerpolicy?: ImageViewerProps['imageReferrerpolicy'];\n}\n\n// 弹窗基础组件\nexport const ImageModal: React.FC<ImageModalProps> = (props) => {\n  const {\n    closeOnOverlay,\n    showOverlay = true,\n    zIndex,\n    images,\n    isMini,\n    imageScale,\n    viewerScale,\n    closeBtn,\n    draggable,\n    onOpen,\n    onClose,\n    visible,\n    title,\n    closeOnEscKeydown,\n    imageReferrerpolicy,\n    onDownload,\n    ...resProps\n  } = props;\n  const { classPrefix } = useConfig();\n  const [locale, t] = useLocaleReceiver('imageViewer');\n\n  if (resProps.index === undefined) delete resProps.index;\n  const { index, next, prev, setIndex } = useIndex(resProps, images);\n  const { rotateZ, onResetRotate, onRotate } = useRotate();\n  const { scale, onZoom, onZoomOut, onResetScale } = useScale(imageScale);\n  const { mirror, onResetMirror, onMirror } = useMirror();\n\n  const onReset = useCallback(() => {\n    onResetScale();\n    onResetRotate();\n    onResetMirror();\n  }, [onResetMirror, onResetScale, onResetRotate]);\n\n  const onWheel = useCallback(\n    (e) => {\n      e.preventDefault();\n      e.deltaY < 0 ? onZoom() : onZoomOut();\n    },\n    [onZoom, onZoomOut],\n  );\n\n  useEffect(() => {\n    if (visible) {\n      document.addEventListener('wheel', onWheel, { passive: false });\n    } else {\n      document.removeEventListener('wheel', onWheel);\n    }\n    return () => {\n      document.removeEventListener('wheel', onWheel);\n    };\n  }, [visible, onWheel]);\n\n  const onKeyDown = useCallback(\n    (event) => {\n      switch (event.key) {\n        case 'ArrowRight':\n          return next();\n        case 'ArrowLeft':\n          return prev();\n        case 'ArrowUp':\n          return onZoom();\n        case 'ArrowDown':\n          return onZoomOut();\n        case 'Escape':\n          return closeOnEscKeydown && onClose?.({ trigger: 'esc', e: event });\n      }\n    },\n    [next, onClose, prev, onZoom, onZoomOut, closeOnEscKeydown],\n  );\n\n  useEffect(() => {\n    document.addEventListener('keydown', onKeyDown);\n    return () => document.removeEventListener('keydown', onKeyDown);\n  }, [onKeyDown]);\n\n  useEffect(() => {\n    onReset();\n  }, [index, onReset]);\n\n  if (!isArray(images) || images.length < 1) return null;\n\n  const currentImage: ImageInfo = images[index];\n\n  const tipText = {\n    mirror: t(locale.mirrorTipText),\n    rotate: t(locale.rotateTipText),\n    originsize: t(locale.originalSizeTipText),\n  };\n  const errorText = t(locale.errorText);\n\n  if (isMini) {\n    return (\n      <ImageModalMini\n        visible={visible}\n        draggable={draggable}\n        index={index}\n        images={images}\n        imageScale={imageScale}\n        viewerScale={viewerScale}\n        rotateZ={rotateZ}\n        zIndex={zIndex}\n        currentImage={currentImage}\n        prev={prev}\n        next={next}\n        mirror={mirror}\n        scale={scale}\n        title={title}\n        onMirror={onMirror}\n        onZoom={onZoom}\n        onClose={onClose}\n        onZoomOut={onZoomOut}\n        onReset={onReset}\n        onRotate={onRotate}\n        errorText={errorText}\n        tipText={tipText}\n        imageReferrerpolicy={imageReferrerpolicy}\n      />\n    );\n  }\n\n  // boolean控制显示，tnode直接展示\n  let closeNode: TNode = closeBtn;\n  if (closeBtn === true) {\n    closeNode = (\n      <ImageModalIcon\n        name=\"close\"\n        size=\"24px\"\n        className={`${classPrefix}-image-viewer__modal-close-bt `}\n        onClick={(e: MouseEvent<HTMLElement>) => onClose && onClose({ trigger: 'close-btn', e })}\n      />\n    );\n  } else if (isFunction(closeBtn)) closeNode = closeBtn({ onClose, onOpen });\n\n  return (\n    <div\n      className={classNames(`${classPrefix}-image-viewer-preview-image`, {\n        [`${classPrefix}-is-hide`]: !visible,\n      })}\n      style={{ zIndex }}\n    >\n      {!!showOverlay && (\n        <div\n          className={`${classPrefix}-image-viewer__modal-mask`}\n          onClick={(e: MouseEvent<HTMLElement>) => closeOnOverlay && onClose?.({ trigger: 'overlay', e })}\n        />\n      )}\n      {images.length > 1 && (\n        <>\n          <ImageViewerHeader\n            images={images}\n            currentIndex={index}\n            onImgClick={setIndex}\n            imageReferrerpolicy={imageReferrerpolicy}\n          />\n          <div className={`${classPrefix}-image-viewer__modal-index`}>\n            <span>{title}</span>\n            {`${index + 1}/${images.length}`}\n          </div>\n          <ImageModalIcon\n            size=\"24px\"\n            name=\"chevron-left\"\n            className={`${classPrefix}-image-viewer__modal-prev-bt`}\n            onClick={prev}\n            disabled={index <= 0}\n          />\n          <ImageModalIcon\n            size=\"24px\"\n            name=\"chevron-right\"\n            className={`${classPrefix}-image-viewer__modal-next-bt`}\n            onClick={next}\n            disabled={index >= images.length - 1}\n          />\n        </>\n      )}\n      <ImageViewerUtils\n        onZoom={onZoom}\n        onZoomOut={onZoomOut}\n        scale={scale}\n        currentImage={currentImage}\n        onDownload={onDownload}\n        onRotate={onRotate}\n        onMirror={onMirror}\n        onReset={onReset}\n        tipText={tipText}\n      />\n      {closeNode}\n      <ImageModalItem\n        scale={scale}\n        rotateZ={rotateZ}\n        mirror={mirror}\n        preSrc={currentImage.thumbnail}\n        src={currentImage.mainImage}\n        errorText={errorText}\n        imageReferrerpolicy={imageReferrerpolicy}\n        isSvg={currentImage.isSvg}\n      />\n    </div>\n  );\n};\n"],"names":["ImageModalMiniContent","props","_useConfig","useConfig","classPrefix","React","createElement","className","ImageModalItem","rotateZ","scale","mirror","src","currentImage","mainImage","preSrc","thumbnail","errorText","imageReferrerpolicy","isSvg","ImageModalMini","visible","title","draggable","onZoomOut","onZoom","onClose","onRotate","onMirror","onReset","tipText","_useConfig2","footer","ImageViewerUtils","Dialog","width","placement","mode","closeOnOverlayClick","cancelBtn","confirmBtn","header","_objectSpread","ImageError","_ref","_useGlobalIcon","useGlobalIcon","ImageErrorIcon","TdImageErrorIcon","size","_ref2","_usePosition","usePosition","initPosition","_usePosition2","_slicedToArray","position","onMouseDown","_useState","useState","_useState2","loaded","setLoaded","_useState3","_useState4","error","setError","attachSvgElRef","useRef","imgStyle","transform","concat","display","preImgStyle","boxStyle","_useImagePreviewUrl","useImagePreviewUrl","preSrcImagePreviewUrl","previewUrl","_useImagePreviewUrl2","mainImagePreviewUrl","createSvgShadow","_ref3","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","_element$classList","response","svgText","element","shadowRoot","container","svgElement","svgViewBox","viewBoxValues","svgViewBoxWidth","svgViewBoxHeight","bbox","calculatedViewBox","wrap","_callee$","_context","prev","next","fetch","sent","ok","Error","statusText","text","current","innerHTML","classList","add","attachShadow","document","style","background","appendChild","querySelector","getAttribute","split","filter","v","map","parseFloat","height","getBBox","x","y","setAttribute","stop","_x","apply","arguments","useEffect","event","stopPropagation","referrerPolicy","alt","onLoad","onError","ref","ROTATE_COUNT","ImageModalIcon","_ref4","onClick","disabled","isRange","name","label","_ref4$size","_useConfig3","Icons","useIconMap","Icon","classNames","_defineProperty","_ref5","onDownload","_useConfig4","_useGlobalIcon2","MirrorIcon","TdMirrorIcon","RotationIcon","TdRotationIcon","ImageIcon","TdImageIcon","TooltipLite","content","showShadow","rotate","largeNumberToFixed","String","originsize","download","isFunction","downloadFile","OneImagePreview","_ref6","image","_useImagePreviewUrl3","Image","referrerpolicy","ImageViewerHeader","_useConfig5","images","currentIndex","onImgClick","_useState5","_useState6","isExpand","setIsExpand","transStyle","index","key","trigger","ImageModal","closeOnOverlay","_props$showOverlay","showOverlay","zIndex","isMini","imageScale","viewerScale","closeBtn","onOpen","closeOnEscKeydown","resProps","_objectWithoutProperties","_excluded","_useConfig6","_useLocaleReceiver","useLocaleReceiver","_useLocaleReceiver2","locale","t","_useIndex","useIndex","setIndex","_useRotate","useRotate","onResetRotate","_useScale","useScale","onResetScale","_useMirror","useMirror","onResetMirror","useCallback","onWheel","e","preventDefault","deltaY","addEventListener","passive","removeEventListener","onKeyDown","isArray","length","mirrorTipText","rotateTipText","originalSizeTipText","closeNode"],"mappings":"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"}