{"version":3,"file":"useScale.js","sources":["../../../../components/image-viewer/hooks/useScale.ts"],"sourcesContent":["// 缩放控制\nimport { useCallback, useState } from 'react';\nimport { ImageScale } from '../type';\n\nconst useScale = (imageScale: ImageScale) => {\n  const [scale, setScale] = useState(() => imageScale.defaultScale ?? 1);\n  const onZoom = useCallback(() => {\n    setScale((scale) => {\n      const newScale = scale + imageScale.step;\n      if (newScale < imageScale.min) return imageScale.min;\n      if (newScale > imageScale.max) return imageScale.max;\n      return newScale;\n    });\n  }, [imageScale]);\n\n  const onZoomOut = useCallback(() => {\n    setScale((scale) => {\n      const newScale = scale - imageScale.step;\n      if (newScale < imageScale.min) return imageScale.min;\n      if (newScale > imageScale.max) return imageScale.max;\n      return newScale;\n    });\n  }, [imageScale]);\n\n  const onResetScale = useCallback(() => setScale(imageScale.defaultScale ?? 1), [imageScale]);\n\n  return {\n    scale,\n    onZoom,\n    onZoomOut,\n    onResetScale,\n  };\n};\n\nexport default useScale;\n"],"names":["useScale","imageScale","_useState","useState","_imageScale$defaultSc","defaultScale","_useState2","_slicedToArray","scale","setScale","onZoom","useCallback","newScale","step","min","max","onZoomOut","onResetScale","_imageScale$defaultSc2"],"mappings":";;;;;;;;;;;;;;AAIA,IAAMA,QAAA,GAAW,SAAXA,QAAAA,CAAYC,UAA2B,EAAA;EACrC,IAAAC,SAAA,GAAoBC,eAAS,YAAA;AAAA,MAAA,IAAAC,qBAAA,CAAA;MAAA,OAAAA,CAAAA,qBAAA,GAAMH,UAAA,CAAWI,qFAAgB,CAAC,CAAA;KAAA,CAAA;IAAAC,UAAA,GAAAC,4BAAA,CAAAL,SAAA,EAAA,CAAA,CAAA;AAA9DM,IAAAA;AAAOC,IAAAA,QAAQ,GAAAH,UAAA,CAAA,CAAA,CAAA,CAAA;AAChB,EAAA,IAAAI,MAAA,GAASC,kBAAY,YAAM;IAC/BF,QAAA,CAAS,UAACD,MAAU,EAAA;AACZ,MAAA,IAAAI,QAAA,GAAWJ,SAAQP,UAAW,CAAAY,IAAA,CAAA;MACpC,IAAID,WAAWX,UAAW,CAAAa,GAAA,EAAK,OAAOb,UAAW,CAAAa,GAAA,CAAA;MACjD,IAAIF,WAAWX,UAAW,CAAAc,GAAA,EAAK,OAAOd,UAAW,CAAAc,GAAA,CAAA;AAC1C,MAAA,OAAAH,QAAA,CAAA;AACT,KAAC,CAAA,CAAA;AACH,GAAA,EAAG,CAACX,UAAU,CAAC,CAAA,CAAA;AAET,EAAA,IAAAe,SAAA,GAAYL,kBAAY,YAAM;IAClCF,QAAA,CAAS,UAACD,MAAU,EAAA;AACZ,MAAA,IAAAI,QAAA,GAAWJ,SAAQP,UAAW,CAAAY,IAAA,CAAA;MACpC,IAAID,WAAWX,UAAW,CAAAa,GAAA,EAAK,OAAOb,UAAW,CAAAa,GAAA,CAAA;MACjD,IAAIF,WAAWX,UAAW,CAAAc,GAAA,EAAK,OAAOd,UAAW,CAAAc,GAAA,CAAA;AAC1C,MAAA,OAAAH,QAAA,CAAA;AACT,KAAC,CAAA,CAAA;AACH,GAAA,EAAG,CAACX,UAAU,CAAC,CAAA,CAAA;EAET,IAAAgB,YAAA,GAAeN,iBAAY,CAAA,YAAA;AAAA,IAAA,IAAAO,sBAAA,CAAA;AAAA,IAAA,OAAMT,QAAS,CAAA,CAAAS,sBAAA,GAAAjB,UAAA,CAAWI,uFAAgB,CAAC,CAAA,CAAA;GAAG,EAAA,CAACJ,UAAU,CAAC,CAAA,CAAA;EAEpF,OAAA;AACLO,IAAAA,KAAA,EAAAA,KAAA;AACAE,IAAAA,MAAA,EAAAA,MAAA;AACAM,IAAAA,SAAA,EAAAA,SAAA;AACAC,IAAAA,YAAA,EAAAA,YAAAA;GACF,CAAA;AACF;;;;"}