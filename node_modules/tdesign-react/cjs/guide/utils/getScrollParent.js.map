{"version":3,"file":"getScrollParent.js","sources":["../../../../components/guide/utils/getScrollParent.ts"],"sourcesContent":["import { elementInViewport } from '../../_util/dom';\n\nexport function getScrollParent(element: HTMLElement) {\n  let style = getComputedStyle(element);\n  const excludeStaticParent = style.position === 'absolute';\n  const overflowRegex = /(auto|scroll)/;\n\n  if (style.position === 'fixed') return document.body;\n\n  for (let parent = element; parent.parentElement; ) {\n    parent = parent.parentElement;\n    style = getComputedStyle(parent);\n    if (excludeStaticParent && style.position === 'static') {\n      continue;\n    }\n    if (overflowRegex.test(style.overflow + style.overflowY + style.overflowX)) return parent;\n  }\n\n  return document.body;\n}\n\nexport function scrollToParentVisibleArea(element: HTMLElement) {\n  const parent = getScrollParent(element);\n  if (parent === document.body) return;\n  // !todo 逻辑待验证\n  if (elementInViewport(element, parent)) return;\n  parent.scrollTop = element.offsetTop - parent.offsetTop;\n}\n"],"names":["getScrollParent","element","style","getComputedStyle","excludeStaticParent","position","overflowRegex","document","body","parent","parentElement","test","overflow","overflowY","overflowX","scrollToParentVisibleArea","elementInViewport","scrollTop","offsetTop"],"mappings":";;;;;;;;;;;;;;;;;;;AAEO,SAASA,gBAAgBC,OAAsB,EAAA;AAChD,EAAA,IAAAC,KAAA,GAAQC,iBAAiBF,OAAO,CAAA,CAAA;AAC9B,EAAA,IAAAG,mBAAA,GAAsBF,MAAMG,QAAa,KAAA,UAAA,CAAA;EAC/C,IAAMC,aAAgB,GAAA,eAAA,CAAA;EAEtB,IAAIJ,MAAMG,QAAa,KAAA,OAAA,EAAS,OAAOE,QAAS,CAAAC,IAAA,CAAA;EAEvC,KAAA,IAAAC,MAAA,GAASR,OAAS,EAAAQ,MAAA,CAAOC,aAAiB,GAAA;IACjDD,MAAA,GAASA,MAAO,CAAAC,aAAA,CAAA;AAChBR,IAAAA,KAAA,GAAQC,iBAAiBM,MAAM,CAAA,CAAA;AAC3B,IAAA,IAAAL,mBAAA,IAAuBF,KAAM,CAAAG,QAAA,KAAa,QAAU,EAAA;AACtD,MAAA,SAAA;AACF,KAAA;AACA,IAAA,IAAIC,cAAcK,IAAK,CAAAT,KAAA,CAAMU,WAAWV,KAAM,CAAAW,SAAA,GAAYX,MAAMY,SAAS,CAAA,EAAU,OAAAL,MAAA,CAAA;AACrF,GAAA;EAEA,OAAOF,QAAS,CAAAC,IAAA,CAAA;AAClB,CAAA;AAEO,SAASO,0BAA0Bd,OAAsB,EAAA;AACxD,EAAA,IAAAQ,MAAA,GAAST,gBAAgBC,OAAO,CAAA,CAAA;AACtC,EAAA,IAAIQ,WAAWF,QAAS,CAAAC,IAAA,EAAM,OAAA;AAE1B,EAAA,IAAAQ,2BAAA,CAAkBf,SAASQ,MAAM,CAAA,EAAG,OAAA;EACjCA,MAAA,CAAAQ,SAAA,GAAYhB,OAAQ,CAAAiB,SAAA,GAAYT,MAAO,CAAAS,SAAA,CAAA;AAChD;;;;;"}