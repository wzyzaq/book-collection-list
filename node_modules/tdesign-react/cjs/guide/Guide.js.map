{"version":3,"file":"Guide.js","sources":["../../../components/guide/Guide.tsx"],"sourcesContent":["import React, { useMemo, useEffect, useRef, useState } from 'react';\nimport { isFunction } from 'lodash-es';\nimport cx from 'classnames';\nimport { createPortal } from 'react-dom';\nimport setStyle from '@tdesign/common-js/utils/setStyle';\nimport Button from '../button';\nimport useConfig from '../hooks/useConfig';\nimport Popup, { PopupProps } from '../popup';\nimport { StepPopupPlacement, TdGuideProps, GuideStep } from './type';\nimport { addClass, removeClass, isFixed, getWindowScroll, canUseDocument } from '../_util/dom';\nimport { scrollToParentVisibleArea, getRelativePosition, getTargetElm, scrollToElm } from './utils';\nimport useControlled from '../hooks/useControlled';\nimport { guideDefaultProps } from './defaultProps';\nimport useDefaultProps from '../hooks/useDefaultProps';\nimport useIsomorphicLayoutEffect from '../hooks/useLayoutEffect';\n\nexport type GuideProps = TdGuideProps;\n\nexport type GuideCrossProps = Pick<\n  GuideStep,\n  'mode' | 'skipButtonProps' | 'prevButtonProps' | 'nextButtonProps' | 'showOverlay' | 'highlightPadding'\n>;\n\n/**\n * @deprecated use GuideStep instead.\n * */\nexport type TdGuideStepProps = GuideStep;\n\nconst Guide: React.FC<GuideProps> = (originalProps) => {\n  const props = useDefaultProps<TdGuideProps>(originalProps, guideDefaultProps);\n  const { counter, hideCounter, hidePrev, hideSkip, steps, zIndex } = props;\n\n  const { classPrefix, guide: guideGlobalConfig } = useConfig();\n  const prefixCls = `${classPrefix}-guide`;\n  const lockCls = `${prefixCls}--lock`;\n\n  const [innerCurrent, setInnerCurrent] = useControlled(props, 'current', props.onChange);\n\n  // 覆盖层，用于覆盖所有元素\n  const overlayLayerRef = useRef<HTMLDivElement>(null);\n  // 高亮层，用于高亮元素\n  const highlightLayerRef = useRef<HTMLDivElement>(null);\n  // 提示层，用于高亮元素\n  const referenceLayerRef = useRef<HTMLDivElement>(null);\n  // 当前高亮的元素\n  const currentHighlightLayerElm = useRef<HTMLElement>(null);\n  // dialog wrapper ref\n  const dialogWrapperRef = useRef<HTMLDivElement>(null);\n  // dialog ref\n  const dialogTooltipRef = useRef<HTMLDivElement>(null);\n  // 是否开始展示\n  const [active, setActive] = useState(false);\n  // 步骤总数\n  const stepsTotal = steps.length;\n  // 当前步骤的信息\n  const currentStepInfo = useMemo(() => steps[innerCurrent], [steps, innerCurrent]);\n  // 获取当前步骤的所有属性 用户当前步骤设置 > 用户全局设置的 > 默认值\n  const getCurrentCrossProps = <Key extends keyof GuideCrossProps>(propsName: Key) =>\n    currentStepInfo?.[propsName] ?? props[propsName];\n  // 当前是否为 popup\n  const isPopup = getCurrentCrossProps('mode') === 'popup';\n\n  // 设置高亮层的位置\n  const setHighlightLayerPosition = (highlightLayer: HTMLElement) => {\n    let { top, left } = getRelativePosition(currentHighlightLayerElm.current);\n    let { width, height } = currentHighlightLayerElm.current.getBoundingClientRect();\n    const highlightPadding = getCurrentCrossProps('highlightPadding');\n\n    if (isPopup) {\n      width += highlightPadding * 2;\n      height += highlightPadding * 2;\n      top -= highlightPadding;\n      left -= highlightPadding;\n    } else {\n      const { scrollTop, scrollLeft } = getWindowScroll();\n      top += scrollTop;\n      left += scrollLeft;\n    }\n\n    setStyle(highlightLayer, {\n      width: `${width}px`,\n      height: `${height}px`,\n      top: `${top}px`,\n      left: `${left}px`,\n    });\n  };\n\n  const showPopupGuide = () => {\n    currentHighlightLayerElm.current = getTargetElm(currentStepInfo.element);\n    setTimeout(() => {\n      scrollToParentVisibleArea(currentHighlightLayerElm.current);\n      setHighlightLayerPosition(highlightLayerRef.current);\n      setHighlightLayerPosition(referenceLayerRef.current);\n      scrollToElm(currentHighlightLayerElm.current);\n    });\n  };\n\n  const destroyTooltipElm = () => {\n    referenceLayerRef.current?.parentNode.removeChild(referenceLayerRef.current);\n  };\n\n  const showDialogGuide = () => {\n    setTimeout(() => {\n      currentHighlightLayerElm.current = dialogTooltipRef.current;\n\n      scrollToParentVisibleArea(currentHighlightLayerElm.current);\n      setHighlightLayerPosition(highlightLayerRef.current);\n      scrollToElm(currentHighlightLayerElm.current);\n    });\n  };\n\n  const destroyDialogTooltipElm = () => {\n    dialogTooltipRef.current?.parentNode.removeChild(dialogTooltipRef.current);\n    dialogWrapperRef.current?.parentNode.removeChild(dialogWrapperRef.current);\n  };\n\n  const showGuide = () => {\n    if (isPopup) {\n      destroyDialogTooltipElm();\n      showPopupGuide();\n    } else {\n      destroyTooltipElm();\n      showDialogGuide();\n    }\n  };\n\n  const destroyGuide = () => {\n    destroyTooltipElm();\n    destroyDialogTooltipElm();\n    highlightLayerRef.current?.parentNode.removeChild(highlightLayerRef.current);\n    overlayLayerRef.current?.parentNode.removeChild(overlayLayerRef.current);\n    removeClass(document.body, lockCls);\n  };\n\n  const handleSkip = (e) => {\n    const total = stepsTotal;\n    setActive(false);\n    setInnerCurrent(-1, { e, total });\n    props.onSkip?.({ e, current: innerCurrent, total });\n  };\n\n  const handlePrev = (e) => {\n    const total = stepsTotal;\n    setInnerCurrent(innerCurrent - 1, { e, total });\n    props.onPrevStepClick?.({\n      e,\n      prev: innerCurrent - 1,\n      current: innerCurrent,\n      total,\n    });\n  };\n\n  const handleNext = (e) => {\n    const total = stepsTotal;\n    setInnerCurrent(innerCurrent + 1, { e, total });\n    props.onNextStepClick?.({\n      e,\n      next: innerCurrent + 1,\n      current: innerCurrent,\n      total,\n    });\n  };\n\n  const handleFinish = (e) => {\n    const total = stepsTotal;\n    setActive(false);\n    setInnerCurrent(-1, { e, total });\n    props.onFinish?.({ e, current: innerCurrent, total });\n  };\n\n  const initGuide = () => {\n    if (innerCurrent >= 0 && innerCurrent < steps.length) {\n      if (!active) {\n        setActive(true);\n        addClass(document.body, lockCls);\n      }\n      showGuide();\n    }\n  };\n\n  useIsomorphicLayoutEffect(() => {\n    if (innerCurrent >= 0 && innerCurrent < steps.length) {\n      initGuide();\n    } else {\n      setActive(false);\n      destroyGuide();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [innerCurrent]);\n\n  useIsomorphicLayoutEffect(() => {\n    initGuide();\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(\n    () => destroyGuide,\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [],\n  );\n\n  if (!canUseDocument) {\n    return null;\n  }\n\n  // 当前元素位置状态\n  const currentElmIsFixed = isFixed(currentHighlightLayerElm.current || document.body);\n\n  const renderOverlayLayer = () =>\n    createPortal(\n      <div ref={overlayLayerRef} className={`${prefixCls}__overlay`} style={{ zIndex: zIndex - 2 }} />,\n      document.body,\n    );\n\n  const renderHighlightLayer = () => {\n    const style = { zIndex: zIndex - 1 };\n    const highlightClass = [\n      `${prefixCls}__highlight`,\n      `${prefixCls}__highlight--${isPopup ? 'popup' : 'dialog'}`,\n      `${prefixCls}--${currentElmIsFixed && isPopup ? 'fixed' : 'absolute'}`,\n    ];\n    const showOverlay = getCurrentCrossProps('showOverlay');\n    const maskClass = [`${prefixCls}__highlight--${showOverlay ? 'mask' : 'nomask'}`];\n    const { highlightContent }: any = currentStepInfo;\n    const showHighlightContent = highlightContent && isPopup;\n    return createPortal(\n      <div\n        ref={highlightLayerRef}\n        className={cx(highlightClass.concat(showHighlightContent ? highlightClass : maskClass))}\n        style={style}\n      >\n        {showHighlightContent &&\n          React.cloneElement(highlightContent, {\n            className: cx(highlightClass.concat(maskClass, highlightContent.props.className)),\n            style: { ...style, ...highlightContent.props.style },\n          })}\n      </div>,\n      document.body,\n    );\n  };\n\n  const renderCounter = () => {\n    const popupSlotCounter = isFunction(counter) ? counter({ total: stepsTotal, current: innerCurrent }) : counter;\n\n    const popupDefaultCounter = (\n      <div className={`${prefixCls}__counter`}>\n        {popupSlotCounter || (\n          <>\n            {innerCurrent + 1}/{stepsTotal}\n          </>\n        )}\n      </div>\n    );\n    return <>{!hideCounter && popupDefaultCounter}</>;\n  };\n\n  const renderAction = (mode: TdGuideProps['mode']) => {\n    const isLast = innerCurrent === stepsTotal - 1;\n    const isFirst = innerCurrent === 0;\n    const buttonSize = mode === 'popup' ? 'small' : 'medium';\n\n    return (\n      <div className={`${prefixCls}__action`}>\n        {!hideSkip && !isLast && (\n          <Button\n            className={`${prefixCls}__skip`}\n            theme=\"default\"\n            size={buttonSize}\n            variant=\"base\"\n            onClick={handleSkip}\n            {...(getCurrentCrossProps('skipButtonProps') ?? guideGlobalConfig.skipButtonProps)}\n          />\n        )}\n        {!hidePrev && !isFirst && (\n          <Button\n            className={`${prefixCls}__prev`}\n            theme=\"primary\"\n            size={buttonSize}\n            variant=\"base\"\n            onClick={handlePrev}\n            {...(getCurrentCrossProps('prevButtonProps') ?? guideGlobalConfig.prevButtonProps)}\n          />\n        )}\n        {!isLast && (\n          <Button\n            className={`${prefixCls}__next`}\n            theme=\"primary\"\n            size={buttonSize}\n            variant=\"base\"\n            onClick={handleNext}\n            {...(getCurrentCrossProps('nextButtonProps') ?? guideGlobalConfig.nextButtonProps)}\n          />\n        )}\n        {isLast && (\n          <Button\n            className={`${prefixCls}__finish`}\n            theme=\"primary\"\n            size={buttonSize}\n            variant=\"base\"\n            onClick={handleFinish}\n            {...(props.finishButtonProps ?? guideGlobalConfig.finishButtonProps)}\n          />\n        )}\n      </div>\n    );\n  };\n\n  const renderTooltipBody = () => {\n    const title = <div className={`${prefixCls}__title`}>{currentStepInfo.title}</div>;\n    const { body: descBody } = currentStepInfo;\n\n    const desc = <div className={`${prefixCls}__desc`}>{descBody}</div>;\n\n    return (\n      <>\n        {title}\n        {desc}\n      </>\n    );\n  };\n\n  const renderPopupContent = () => {\n    const footerClasses = [`${prefixCls}__footer`, `${prefixCls}__footer--popup`];\n    const action = (\n      <div className={cx(footerClasses)}>\n        {renderCounter()}\n        {renderAction('popup')}\n      </div>\n    );\n\n    return (\n      <div className={`${prefixCls}__tooltip`}>\n        {renderTooltipBody()}\n        {action}\n      </div>\n    );\n  };\n\n  const renderPopupGuide = () => {\n    const content = currentStepInfo.children ?? currentStepInfo.content;\n    let renderBody;\n    if (React.isValidElement(content)) {\n      const contentProps = {\n        handlePrev,\n        handleNext,\n        handleSkip,\n        handleFinish,\n        current: innerCurrent,\n        total: stepsTotal,\n      };\n      renderBody = isFunction(content) ? content(contentProps) : React.cloneElement(content, contentProps);\n    } else {\n      renderBody = renderPopupContent();\n    }\n\n    const classes = [`${prefixCls}__reference`, `${prefixCls}--${currentElmIsFixed ? 'fixed' : 'absolute'}`];\n\n    const innerClassName: PopupProps['overlayInnerClassName'] = [{ [`${prefixCls}__popup--content`]: !!content }];\n    return createPortal(\n      <Popup\n        visible={true}\n        content={renderBody}\n        showArrow={!content}\n        zIndex={zIndex}\n        placement={currentStepInfo.placement as StepPopupPlacement}\n        {...currentStepInfo.popupProps}\n        overlayClassName={[\n          `${prefixCls}__popup`,\n          currentStepInfo.stepOverlayClass,\n          currentStepInfo.popupProps?.overlayClassName,\n        ]}\n        overlayInnerClassName={innerClassName.concat(currentStepInfo.popupProps?.overlayInnerClassName)}\n      >\n        <div ref={referenceLayerRef} className={cx(classes)} />\n      </Popup>,\n      document.body,\n    );\n  };\n\n  const renderDialogGuide = () => {\n    const style = { zIndex };\n    const wrapperClasses = [\n      `${prefixCls}__wrapper`,\n      { [`${prefixCls}__wrapper--center`]: currentStepInfo.placement === 'center' },\n    ];\n    const dialogClasses = [\n      `${prefixCls}__reference`,\n      `${prefixCls}--absolute`,\n      `${prefixCls}__dialog`,\n      {\n        [`${prefixCls}__dialog--nomask`]: !getCurrentCrossProps('showOverlay'),\n        [currentStepInfo.stepOverlayClass]: !!currentStepInfo.stepOverlayClass,\n      },\n    ];\n    const footerClasses = [`${prefixCls}__footer`, `${prefixCls}__footer--popup`];\n    return (\n      <>\n        {createPortal(\n          <div ref={dialogWrapperRef} className={cx(wrapperClasses)} style={style}>\n            <div ref={dialogTooltipRef} className={cx(dialogClasses)}>\n              {renderTooltipBody()}\n              <div className={cx(footerClasses)}>\n                {renderCounter()}\n                {renderAction('dialog')}\n              </div>\n            </div>\n          </div>,\n          document.body,\n        )}\n      </>\n    );\n  };\n\n  const renderGuide = () => (\n    <>\n      {renderOverlayLayer()}\n      {renderHighlightLayer()}\n      {isPopup ? renderPopupGuide() : renderDialogGuide()}\n    </>\n  );\n\n  return <>{innerCurrent > -1 && active && renderGuide()}</>;\n};\n\nGuide.displayName = 'Guide';\n\nexport default Guide;\n"],"names":["Guide","originalProps","props","useDefaultProps","guideDefaultProps","counter","hideCounter","hidePrev","hideSkip","steps","zIndex","_useConfig","useConfig","classPrefix","guideGlobalConfig","guide","prefixCls","lockCls","_useControlled","useControlled","onChange","_useControlled2","_slicedToArray","innerCurrent","setInnerCurrent","overlayLayerRef","useRef","highlightLayerRef","referenceLayerRef","currentHighlightLayerElm","dialogWrapperRef","dialogTooltipRef","_useState","useState","_useState2","active","setActive","stepsTotal","length","currentStepInfo","useMemo","getCurrentCrossProps","propsName","_currentStepInfo$prop","isPopup","setHighlightLayerPosition","highlightLayer","_getRelativePosition","getRelativePosition","current","top","left","_currentHighlightLaye","getBoundingClientRect","width","height","highlightPadding","_getWindowScroll","getWindowScroll","scrollTop","scrollLeft","setStyle","showPopupGuide","getTargetElm","element","setTimeout","scrollToParentVisibleArea","scrollToElm","destroyTooltipElm","_referenceLayerRef$cu","parentNode","removeChild","showDialogGuide","destroyDialogTooltipElm","_dialogTooltipRef$cur","_dialogWrapperRef$cur","showGuide","destroyGuide","_highlightLayerRef$cu","_overlayLayerRef$curr","removeClass","document","body","handleSkip","e","_props$onSkip","total","onSkip","call","handlePrev","_props$onPrevStepClic","onPrevStepClick","prev","handleNext","_props$onNextStepClic","onNextStepClick","next","handleFinish","_props$onFinish","onFinish","initGuide","addClass","useIsomorphicLayoutEffect","useEffect","canUseDocument","currentElmIsFixed","isFixed","renderOverlayLayer","createPortal","React","createElement","ref","className","style","renderHighlightLayer","highlightClass","concat","showOverlay","maskClass","highlightContent","showHighlightContent","cx","cloneElement","renderCounter","popupSlotCounter","isFunction","popupDefaultCounter","Fragment","renderAction","mode","_getCurrentCrossProps","_getCurrentCrossProps2","_getCurrentCrossProps3","_props$finishButtonPr","isLast","isFirst","buttonSize","Button","_objectSpread","theme","size","variant","onClick","skipButtonProps","prevButtonProps","nextButtonProps","finishButtonProps","renderTooltipBody","title","descBody","desc","renderPopupContent","footerClasses","action","renderPopupGuide","_currentStepInfo$chil","_currentStepInfo$popu","_currentStepInfo$popu2","content","children","renderBody","isValidElement","contentProps","classes","innerClassName","_defineProperty","Popup","visible","showArrow","placement","popupProps","overlayClassName","stepOverlayClass","overlayInnerClassName","renderDialogGuide","wrapperClasses","dialogClasses","renderGuide","displayName"],"mappings":"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"}