{"version":3,"file":"PanelContent.js","sources":["../../../../components/date-picker/panel/PanelContent.tsx"],"sourcesContent":["import React, { useCallback } from 'react';\nimport { getDefaultFormat } from '@tdesign/common-js/date-picker/format';\nimport DateHeader from '../base/Header';\nimport DateTable from '../base/Table';\nimport { TimePickerPanel } from '../../time-picker';\nimport type { SinglePanelProps } from './SinglePanel';\nimport type { RangePanelProps } from './RangePanel';\nimport useConfig from '../../hooks/useConfig';\nimport useEventCallback from '../../hooks/useEventCallback';\n\nexport interface PanelContentProps {\n  partial?: 'start' | 'end';\n  value: SinglePanelProps['value'] | RangePanelProps['value'];\n  year: SinglePanelProps['year'];\n  month: SinglePanelProps['month'];\n  mode: SinglePanelProps['mode'];\n  format: SinglePanelProps['format'];\n  enableTimePicker: SinglePanelProps['enableTimePicker'];\n  timePickerProps: SinglePanelProps['timePickerProps'];\n  firstDayOfWeek: SinglePanelProps['firstDayOfWeek'];\n  time: SinglePanelProps['time'];\n  multiple?: SinglePanelProps['multiple'];\n  popupVisible?: boolean;\n  tableData: any[];\n  onMonthChange: SinglePanelProps['onMonthChange'] | RangePanelProps['onMonthChange'];\n  onYearChange: SinglePanelProps['onYearChange'] | RangePanelProps['onYearChange'];\n  onJumperClick: SinglePanelProps['onJumperClick'] | RangePanelProps['onJumperClick'];\n  onCellClick: SinglePanelProps['onCellClick'] | RangePanelProps['onCellClick'];\n  onCellMouseEnter: SinglePanelProps['onCellMouseEnter'] | RangePanelProps['onCellMouseEnter'];\n  onCellMouseLeave: SinglePanelProps['onCellMouseLeave'] | RangePanelProps['onCellMouseLeave'];\n  onTimePickerChange: SinglePanelProps['onTimePickerChange'] | RangePanelProps['onTimePickerChange'];\n}\n\nexport default function PanelContent(props: PanelContentProps) {\n  const { classPrefix } = useConfig();\n  const panelName = `${classPrefix}-date-picker__panel`;\n\n  const {\n    value,\n    year,\n    month,\n    mode,\n    format,\n    enableTimePicker,\n    timePickerProps,\n    firstDayOfWeek,\n\n    partial = 'start',\n    time,\n    tableData,\n    onJumperClick,\n    onCellClick,\n    onCellMouseEnter,\n    onCellMouseLeave,\n    onTimePickerChange,\n  } = props;\n\n  const onMonthChange = useEventCallback(props.onMonthChange);\n  const onYearChange = useEventCallback(props.onYearChange);\n\n  const { timeFormat } = getDefaultFormat({ mode, format, enableTimePicker });\n\n  const showTimePicker = enableTimePicker && mode === 'date';\n\n  const defaultTime = '00:00:00';\n\n  const onMonthChangeInner = useCallback(\n    (val: number) => {\n      onMonthChange?.(val, { partial });\n    },\n    [partial, onMonthChange],\n  );\n\n  const onYearChangeInner = useCallback(\n    (val: number) => {\n      onYearChange?.(val, { partial });\n    },\n    [partial, onYearChange],\n  );\n\n  const onJumperClickInner = useCallback(\n    ({ trigger }) => {\n      onJumperClick?.({ trigger, partial });\n    },\n    [partial, onJumperClick],\n  );\n\n  return (\n    <div className={`${panelName}-content`}>\n      <div className={`${panelName}-${mode}`}>\n        <DateHeader\n          mode={mode}\n          year={year}\n          month={month}\n          onMonthChange={onMonthChangeInner}\n          onYearChange={onYearChangeInner}\n          onJumperClick={onJumperClickInner}\n        />\n\n        <DateTable\n          mode={mode}\n          data={tableData}\n          value={value}\n          time={time}\n          format={format}\n          firstDayOfWeek={firstDayOfWeek}\n          multiple={props.multiple}\n          onCellClick={(date: Date, { e }) => onCellClick?.(date, { e, partial })}\n          onCellMouseEnter={(date: Date) => onCellMouseEnter?.(date, { partial })}\n          onCellMouseLeave={onCellMouseLeave}\n        />\n      </div>\n\n      {showTimePicker && (\n        <div className={`${panelName}-time`}>\n          <div className={`${panelName}-time-viewer`}>{time || defaultTime}</div>\n          <TimePickerPanel\n            key={partial}\n            position={partial}\n            format={timeFormat}\n            value={time || defaultTime}\n            onChange={onTimePickerChange}\n            isShowPanel={props.popupVisible}\n            {...timePickerProps}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":["PanelContent","props","_useConfig","useConfig","classPrefix","panelName","value","year","month","mode","format","enableTimePicker","timePickerProps","firstDayOfWeek","_props$partial","partial","time","tableData","onJumperClick","onCellClick","onCellMouseEnter","onCellMouseLeave","onTimePickerChange","onMonthChange","useEventCallback","onYearChange","_getDefaultFormat","getDefaultFormat","timeFormat","showTimePicker","defaultTime","onMonthChangeInner","useCallback","val","onYearChangeInner","onJumperClickInner","_ref","trigger","React","createElement","className","concat","DateHeader","DateTable","data","multiple","date","_ref2","e","TimePickerPanel","_objectSpread","key","position","onChange","isShowPanel","popupVisible"],"mappings":"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"}