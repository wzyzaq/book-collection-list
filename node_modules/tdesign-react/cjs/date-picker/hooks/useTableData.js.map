{"version":3,"file":"useTableData.js","sources":["../../../../components/date-picker/hooks/useTableData.tsx"],"sourcesContent":["import { getWeeks, getQuarters, getYears, getMonths, flagActive } from '@tdesign/common-js/date-picker/utils';\nimport { useLocaleReceiver } from '../../locale/LocalReceiver';\nimport type { SinglePanelProps } from '../panel/SinglePanel';\n\nexport interface TableDataProps extends SinglePanelProps {\n  isRange?: boolean;\n  start: Date | undefined;\n  end?: Date | undefined;\n  hoverStart?: Date | undefined;\n  hoverEnd?: Date | undefined;\n  minDate: Date | null;\n  maxDate: Date | null;\n  cancelRangeSelectLimit?: boolean;\n}\n\nexport default function useTableData(props: TableDataProps) {\n  // 国际化文本初始化\n  const [local, t] = useLocaleReceiver('datePicker');\n  const monthLocal: string[] = t(local.months);\n  const quarterLocal: string[] = t(local.quarters);\n\n  const {\n    start,\n    end,\n    hoverStart,\n    hoverEnd,\n    year,\n    month,\n    mode,\n    firstDayOfWeek,\n    disableDate,\n    minDate,\n    maxDate,\n    isRange,\n    value,\n    multiple,\n  } = props;\n\n  // 列表数据\n  let data = [];\n\n  const options = {\n    minDate,\n    maxDate,\n    disableDate,\n    firstDayOfWeek,\n    monthLocal,\n    quarterLocal,\n    showWeekOfYear: mode === 'week',\n    dayjsLocale: local.dayjsLocale,\n    cancelRangeSelectLimit: props.cancelRangeSelectLimit,\n  };\n\n  if (mode === 'date') {\n    data = getWeeks({ year, month }, options);\n  } else if (mode === 'week') {\n    data = getWeeks({ year, month }, options);\n  } else if (mode === 'quarter') {\n    data = getQuarters(year, options);\n  } else if (mode === 'month') {\n    data = getMonths(year, options);\n  } else if (mode === 'year') {\n    data = getYears(year, options);\n  }\n\n  return flagActive(data, { start, end, hoverStart, hoverEnd, type: mode, isRange, value, multiple });\n}\n"],"names":["useTableData","props","_useLocaleReceiver","useLocaleReceiver","_useLocaleReceiver2","_slicedToArray","local","t","monthLocal","months","quarterLocal","quarters","start","end","hoverStart","hoverEnd","year","month","mode","firstDayOfWeek","disableDate","minDate","maxDate","isRange","value","multiple","data","options","showWeekOfYear","dayjsLocale","cancelRangeSelectLimit","getWeeks","getQuarters","getMonths","getYears","flagActive","type"],"mappings":"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"}