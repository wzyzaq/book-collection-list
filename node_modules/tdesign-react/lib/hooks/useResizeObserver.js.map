{"version":3,"file":"useResizeObserver.js","sources":["../../../components/hooks/useResizeObserver.ts"],"sourcesContent":["import { useLayoutEffect } from 'react';\nimport { isFunction } from 'lodash-es';\n\nexport default function useResizeObserver(container: HTMLElement, callback: (data: [ResizeObserverEntry]) => void) {\n  let containerObserver: ResizeObserver = null;\n\n  const cleanupObserver = () => {\n    if (!containerObserver || !container) return;\n    containerObserver.unobserve(container);\n    isFunction(containerObserver.disconnect) && containerObserver.disconnect();\n    containerObserver = null;\n  };\n\n  const addObserver = (el: HTMLElement) => {\n    containerObserver = new ResizeObserver(callback);\n    containerObserver.observe(el);\n  };\n\n  useLayoutEffect(() => {\n    const isSupport = typeof window !== 'undefined' && window.ResizeObserver;\n    if (!isSupport) return;\n\n    cleanupObserver();\n    container && addObserver(container);\n\n    return () => {\n      cleanupObserver();\n    };\n    // eslint-disable-next-line\n  }, [container, containerObserver]);\n}\n"],"names":["useResizeObserver","container","callback","containerObserver","cleanupObserver","unobserve","isFunction","disconnect","addObserver","el","ResizeObserver","observe","useLayoutEffect","isSupport","window"],"mappings":";;;;;;;;;AAGwB,SAAAA,iBAAAA,CAAkBC,WAAwBC,QAAiD,EAAA;EACjH,IAAIC,iBAAoC,GAAA,IAAA,CAAA;AAExC,EAAA,IAAMC,kBAAkB,SAAlBA,kBAAwB;AACxB,IAAA,IAAA,CAACD,qBAAqB,CAACF,SAAA,EAAW,OAAA;AACtCE,IAAAA,iBAAA,CAAkBE,UAAUJ,SAAS,CAAA,CAAA;IACrCK,UAAA,CAAWH,iBAAkB,CAAAI,UAAU,CAAK,IAAAJ,iBAAA,CAAkBI,UAAW,EAAA,CAAA;AACrDJ,IAAAA,iBAAA,GAAA,IAAA,CAAA;GACtB,CAAA;AAEM,EAAA,IAAAK,WAAA,GAAc,SAAdA,WAAAA,CAAeC,EAAoB,EAAA;AACnBN,IAAAA,iBAAA,GAAA,IAAIO,eAAeR,QAAQ,CAAA,CAAA;AAC/CC,IAAAA,iBAAA,CAAkBQ,QAAQF,EAAE,CAAA,CAAA;GAC9B,CAAA;AAEAG,EAAAA,eAAA,CAAgB,YAAM;IACpB,IAAMC,SAAY,GAAA,OAAOC,MAAW,KAAA,WAAA,IAAeA,MAAO,CAAAJ,cAAA,CAAA;IAC1D,IAAI,CAACG,SAAA,EAAW,OAAA;AAEAT,IAAAA,eAAA,EAAA,CAAA;AAChBH,IAAAA,SAAA,IAAaO,YAAYP,SAAS,CAAA,CAAA;AAElC,IAAA,OAAO,YAAM;AACKG,MAAAA,eAAA,EAAA,CAAA;KAClB,CAAA;AAEF,GAAG,EAAA,CAACH,SAAW,EAAAE,iBAAiB,CAAC,CAAA,CAAA;AACnC;;;;"}