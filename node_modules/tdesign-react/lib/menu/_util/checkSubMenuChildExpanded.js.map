{"version":3,"file":"checkSubMenuChildExpanded.js","sources":["../../../../components/menu/_util/checkSubMenuChildExpanded.ts"],"sourcesContent":["import React from 'react';\nimport { MenuValue } from '../type';\nimport { MenuBlockType } from './type';\n\nexport default function checkSubMenuChildExpanded(\n  children: React.ReactNode,\n  expanded: MenuValue[],\n  value: MenuValue,\n  resultExpanded: MenuValue[] = [],\n) {\n  const childValues = React.Children.map(children, (child: React.ReactElement<any>) => child.props.value);\n  // 直接找到了目标节点\n  const index = childValues.indexOf(value);\n  // 找到对应的子节点\n  const child = children[index];\n  // 如果是 submenu 并且子节点存在\n  if (index > -1 && child?.type?.displayName === MenuBlockType.SubMenu) {\n    return [...resultExpanded, value];\n  }\n  // 否则寻找当前展开的节点是否是祖先节点\n  const expandedIndex = childValues.indexOf(expanded[0]);\n  const expandedChild = children[expandedIndex];\n  if (expandedIndex > -1 && expandedChild?.type?.displayName === MenuBlockType.SubMenu) {\n    return checkSubMenuChildExpanded(expandedChild.props.children, expanded.slice(1), value, [\n      ...resultExpanded,\n      expanded[0],\n    ]);\n  }\n\n  return [value];\n}\n"],"names":["checkSubMenuChildExpanded","children","expanded","value","_child$type","_expandedChild$type","resultExpanded","arguments","length","undefined","childValues","React","Children","map","child","props","index","indexOf","type","displayName","MenuBlockType","SubMenu","concat","_toConsumableArray","expandedIndex","expandedChild","slice"],"mappings":";;;;;;;;;;;AAIA,SAAwBA,0BACtBC,QACA,EAAAC,QAAA,EACAC,KACA,EACA;EAAA,IAAAC,WAAA,EAAAC,mBAAA,CAAA;AAAA,EAAA,IADAC,cAAA,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAA8B,EAC9B,CAAA;EACM,IAAAG,WAAA,GAAcC,MAAMC,QAAS,CAAAC,GAAA,CAAIZ,UAAU,UAACa,MAAAA,EAAAA;AAAAA,IAAAA,OAAmCA,MAAM,CAAAC,KAAA,CAAMZ,KAAK,CAAA;GAAA,CAAA,CAAA;AAEhG,EAAA,IAAAa,KAAA,GAAQN,WAAY,CAAAO,OAAA,CAAQd,KAAK,CAAA,CAAA;AAEvC,EAAA,IAAMW,QAAQb,QAAS,CAAAe,KAAA,CAAA,CAAA;EAEvB,IAAIA,QAAQ,CAAM,CAAA,IAAA,CAAAF,KAAA,KAAA,IAAA,IAAAA,KAAA,KAAA,KAAA,CAAA,IAAA,CAAAV,WAAA,GAAAU,KAAA,CAAOI,IAAM,MAAAd,IAAAA,IAAAA,WAAA,KAAbA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,WAAA,CAAae,WAAA,MAAgBC,cAAcC,OAAS,EAAA;AAC7D,IAAA,OAAA,EAAA,CAAAC,MAAA,CAAAC,kBAAA,CAAIjB,cAAA,IAAgBH,KAAK,CAAA,CAAA,CAAA;AAClC,GAAA;EAEA,IAAMqB,aAAgB,GAAAd,WAAA,CAAYO,OAAQ,CAAAf,QAAA,CAAS,CAAE,CAAA,CAAA,CAAA;AACrD,EAAA,IAAMuB,gBAAgBxB,QAAS,CAAAuB,aAAA,CAAA,CAAA;EAC/B,IAAIA,gBAAgB,CAAM,CAAA,IAAA,CAAAC,aAAA,KAAA,IAAA,IAAAA,aAAA,KAAA,KAAA,CAAA,IAAA,CAAApB,mBAAA,GAAAoB,aAAA,CAAeP,IAAM,MAAAb,IAAAA,IAAAA,mBAAA,KAArBA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,mBAAA,CAAqBc,WAAA,MAAgBC,cAAcC,OAAS,EAAA;AAC7E,IAAA,OAAArB,yBAAA,CAA0ByB,cAAcV,KAAM,CAAAd,QAAA,EAAUC,SAASwB,KAAM,CAAA,CAAC,GAAGvB,KAAO,EAAAmB,EAAAA,CAAAA,MAAA,CAAAC,kBAAA,CACpFjB,cAAA,CACHJ,EAAAA,CAAAA,QAAS,CAAA,CAAA,CAAA,CAAA,CACV,CAAA,CAAA;AACH,GAAA;EAEA,OAAO,CAACC,KAAK,CAAA,CAAA;AACf;;;;"}