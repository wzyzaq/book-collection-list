{"version":3,"file":"TabNavItem.js","sources":["../../../components/tabs/TabNavItem.tsx"],"sourcesContent":["import React, { MouseEvent } from 'react';\nimport classNames from 'classnames';\nimport { CloseIcon as TdCloseIcon } from 'tdesign-icons-react';\nimport useRipple from '../hooks/useRipple';\nimport useDomRefCallback from '../hooks/useDomRefCallback';\n\nimport noop from '../_util/noop';\nimport { useTabClass } from './useTabClass';\nimport useGlobalIcon from '../hooks/useGlobalIcon';\n\nimport type { StyledProps } from '../common';\nimport type { DragSortInnerProps } from '../hooks/useDragSorter';\nimport type { TdTabPanelProps, TdTabsProps } from './type';\n\nexport interface TabNavItemProps extends TdTabPanelProps, StyledProps {\n  // 当前 item 是否处于激活态\n  isActive: boolean;\n  // 点击事件\n  onClick: (e: MouseEvent) => void;\n  theme: 'normal' | 'card';\n  placement: string;\n  size?: 'medium' | 'large';\n  index: number;\n  innerRef(ref: HTMLElement): void;\n  onTabRemove: TdTabsProps['onRemove'];\n  dragProps?: DragSortInnerProps;\n}\n\nconst TabNavItem: React.FC<TabNavItemProps> = (props) => {\n  const {\n    label,\n    removable,\n    isActive,\n    onClick = noop,\n    theme,\n    placement,\n    onRemove = noop,\n    value,\n    size = 'medium',\n    disabled = false,\n    index,\n    onTabRemove = noop,\n    innerRef,\n    dragProps,\n  } = props;\n\n  const { CloseIcon } = useGlobalIcon({ CloseIcon: TdCloseIcon });\n\n  const isCard = theme === 'card';\n\n  // 样式变量和常量定义\n  const { tdTabsClassGenerator, tdClassGenerator, tdSizeClassGenerator } = useTabClass();\n\n  // 斜八度动画\n  const [navItemDom, setRefCurrent] = useDomRefCallback();\n  useRipple(navItemDom);\n  return (\n    <div\n      {...dragProps}\n      ref={innerRef}\n      onClick={disabled ? noop : onClick}\n      className={classNames(\n        tdTabsClassGenerator('nav-item'),\n        isCard ? tdTabsClassGenerator('nav--card') : '',\n        tdSizeClassGenerator(size),\n        isActive ? tdClassGenerator('is-active') : '',\n        tdClassGenerator(`is-${placement}`),\n        disabled ? tdClassGenerator('is-disabled') : '',\n        props.className,\n      )}\n    >\n      {/* 根据新的 dom 结构和样式进行改动，卡片类型情况下不需要 nav-item-wrapper 这个 div */}\n      {isCard ? (\n        <span className={classNames(tdTabsClassGenerator('nav-item-text-wrapper'))}>{label}</span>\n      ) : (\n        <div ref={setRefCurrent} className={classNames(tdTabsClassGenerator('nav-item-wrapper'))}>\n          <span className={classNames(tdTabsClassGenerator('nav-item-text-wrapper'))}>{label}</span>\n        </div>\n      )}\n      {removable ? (\n        <CloseIcon\n          className={classNames('remove-btn')}\n          onClick={(e) => {\n            if (disabled) {\n              return;\n            }\n            e.stopPropagation();\n            onRemove({ value, e });\n            onTabRemove({ value, e, index });\n          }}\n        />\n      ) : null}\n    </div>\n  );\n};\n\nexport default TabNavItem;\n"],"names":["TabNavItem","props","label","removable","isActive","_props$onClick","onClick","noop","theme","placement","_props$onRemove","onRemove","value","_props$size","size","_props$disabled","disabled","index","_props$onTabRemove","onTabRemove","innerRef","dragProps","_useGlobalIcon","useGlobalIcon","CloseIcon","TdCloseIcon","isCard","_useTabClass","useTabClass","tdTabsClassGenerator","tdClassGenerator","tdSizeClassGenerator","_useDomRefCallback","useDomRefCallback","_useDomRefCallback2","_slicedToArray","navItemDom","setRefCurrent","useRipple","React","createElement","_objectSpread","ref","className","classNames","concat","e","stopPropagation"],"mappings":"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"}